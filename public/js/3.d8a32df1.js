(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0300":function(t,e,a){"use strict";a("e85f")},"0387":function(t,e,a){"use strict";a("cfee")},"0511":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasEmptyState?a("div",{staticClass:"flex column flex-center empty-state"},[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))])],1)],1):t._e(),a("div",{staticClass:"text-h4 text-grey q-mb-lg"},[t._v("Aun no has ingresado una cotizacion!.")]),a("q-btn",{staticClass:"text-black q-mt-lg",attrs:{color:"green"},on:{click:function(e){return t.openAddDrawer()}}},[t._v("Crear cotizacion")])],1):a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm"},[a("q-card-section",[a("q-table",{attrs:{flat:"",data:t.items,columns:t.columns,pagination:t.pagination,loading:t.loading,"binary-state-sort":"","hide-pagination":""},on:{"update:pagination":function(e){t.pagination=e},request:t.getItems},scopedSlots:t._u([{key:"body",fn:function(e){return[a("q-tr",{class:"new_client"===e.row.status?"bg-green-2 text-black":"bg-white text-black",attrs:{props:e}},[a("q-td",{key:"created_at",attrs:{props:e}},[t._v("\n              "+t._s(t.formattedDate(e.row.created_at))+"\n            ")]),a("q-td",{key:"folio",attrs:{props:e}},[t._v("\n              "+t._s(e.row.folio)+"\n            ")]),a("q-td",{key:"number_service",attrs:{props:e}},[null!==e.row.number_service?a("span",[t._v(" "+t._s(e.row.number_service))]):a("span",[t._v("-")])]),a("q-td",{key:"required_units",attrs:{props:e}},[null!==e.row.required_units?a("span",[t._v(" "+t._s(e.row.required_units))]):a("span",[t._v("-")])]),a("q-td",{key:"total_amount",attrs:{props:e}},[a("b",[t._v("$"+t._s(t.numberFormat(e.row.total)))])]),a("q-td",{key:"total_dls",attrs:{props:e}},[a("b",[t._v("$"+t._s(t.numberFormat(e.row.total_dls)))])]),a("q-td",{key:"actions",attrs:{props:e}},[a("q-btn",{attrs:{flat:"","fab-mini":"",color:"blue-grey",icon:"fa fa-ellipsis-v"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"130px"}},["active_client"===e.row.status?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.openUpdateDrawer(e.row)}}},[a("q-item-section",[t._v("Actualizar")])],1):t._e(),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.printQuote(e.row)}}},[a("q-item-section",[t._v("Imprimir")])],1),"active_client"===e.row.status?a("q-separator"):t._e(),"active_client"===e.row.status?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.showModalDelete(e.row)}}},[a("q-item-section",{staticClass:"text-red"},[t._v("Eliminar")])],1):t._e()],1)],1)],1)],1)],1)]}}])}),a("q-separator"),t.pagesNumber>1?a("div",{staticClass:"row q-mt-md"},[a("q-pagination",{attrs:{color:"grey-8",max:t.pagesNumber,size:"md"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1),t.hasEmptyState?t._e():a("Sticky",{attrs:{simple:""},on:{add:function(e){return t.openAddDrawer()}}}),a("Delete",{attrs:{item:t.itemToDelete,target:t.getTarget(),api:t.api,title:"Eliminar cotizacion"},model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}})],1)],1)},i=[],r=a("3ab0"),o=a("cb33"),n=a("649c"),l=a("b178"),c=(a("ada4"),{extends:r["a"],name:"Services",props:{portalKey:{},title:{type:String,default:""},item:{}},data(){return{setClientOn:!1,api:o["a"],columns:[{name:"created_at",label:"Fecha",field:"created_at",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"folio",label:"Folio",field:"folio",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"number_service",label:"Servicio",field:"number_service",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"required_units",label:"Unidades requeridas",field:"required_units",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"total_amount",label:"TOTAL",field:"total",align:"left",headerClasses:"text-uppercase"},{name:"total_dls",label:"Dls",field:"total_dls",align:"left",headerClasses:"text-uppercase"},{name:"actions",label:"",field:""}],filters:{client_id:this.item.id},quote:null}},components:{Delete:n["default"]},mounted(){VueEvent.listen("deleted",this.deleteItem),VueEvent.listen("created-quote",this.addItem),VueEvent.listen("updated-quote",this.updateItem)},beforeDestroy(){VueEvent.unlisten("deleted",this.deleteItem),VueEvent.unlisten("created-quote",this.addItem),VueEvent.unlisten("updated-quote",this.updateItem)},methods:{getTarget(){return this.itemToDelete.folio+" -- "+this.itemToDelete.created_at},formattedDate(t){return l["c"].formatDate(t,"DD-MM-YYYY")},showSetClient(t){this.quote=t,this.setClientOn=!0},printQuote(t){console.log(t.status),"prospect"===t.status||"new_client"===t.status?window.open("quote/"+t.id,"_blank"):window.open("single-quote/"+t.id,"_blank")},openAddDrawer(){this.addDrawer("ClientQuote",{title:"crear cotizacion",client:this.item.id},70)},openUpdateDrawer(t){this.addDrawer("ClientQuote",{title:"actualizar cotizacion",item:t,client:this.item.id},65)}}}),d=c,u=(a("0387"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"60ea5408",null);e["default"]=p.exports},"05df":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasEmptyState?a("div",{staticClass:"flex column flex-center empty-state"},[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))])],1)],1):t._e(),a("div",{staticClass:"text-h4 text-grey q-mb-lg"},[t._v("Aun no has ingresado ningun documento!.")]),a("q-btn",{staticClass:"text-black q-mt-lg",attrs:{color:"green"},on:{click:function(e){return t.showAddMedia()}}},[t._v("Nuevo documento")]),a("input",{attrs:{type:"file",multiple:"",hidden:"",id:"files"},on:{change:t.sendFiles}})],1):a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("div",{staticClass:"row"},t._l(t.items,(function(e){return a("div",{key:e.id,staticClass:"col col-4"},[a("q-card",{staticClass:"q-mr-md q-mb-md"},[a("q-card-section",[a("div",{staticClass:"row items-center no-wrap"},[a("div",{staticClass:"col"},[t._v("\n                     "+t._s(e.name)+"\n                   ")]),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"more_vert"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"120px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.showModalDelete(e)}}},[a("q-item-section",{staticClass:"text-red"},[t._v("Eliminar")])],1)],1)],1)],1)],1)]),a("q-separator",{staticClass:"q-mb-sm"}),a("div",{staticClass:"flex flex-center text-center",on:{click:function(a){return t.openFile(e)}}},["jpg"===e.type||"png"===e.type?a("img",{staticClass:"mouse",attrs:{src:e.url,alt:"Imagen",width:"100%",height:"100px"}}):a("i",{staticClass:"mouse",class:t.iconFile(e.type)})])],1)],1)],1)})),0)])],1),a("input",{attrs:{type:"file",multiple:"",hidden:"",id:"files"},on:{change:t.sendFiles}}),t.hasEmptyState?t._e():a("Sticky",{attrs:{simple:""},on:{add:function(e){return t.showAddMedia()}}}),a("Delete",{attrs:{item:t.itemToDelete,target:t.itemToDelete.name,api:t.api,title:"Eliminar documento"},model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.modalUpload,callback:function(e){t.modalUpload=e},expression:"modalUpload"}},[a("q-card",{staticStyle:{width:"500px"}},[a("q-card-section",{staticClass:"row items-center bg-green-5"},[a("q-avatar",{attrs:{icon:"fa fa-file","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("Administrador de documentos")])],1),a("q-separator"),a("q-card-section",[a("q-circular-progress",{staticClass:"q-ma-md",attrs:{indeterminate:"",size:"40px",thickness:.2,color:"green","center-color":"grey-8","track-color":"transparent"}}),a("span",{staticClass:"q-ml-sm"},[t._v("Cargando archivos al servidor")])],1),a("q-separator")],1)],1)],1)},i=[],r=(a("e6cf"),a("da3d")),o=a("c615"),n=a("649c"),l=a("e9a3"),c={extends:r["default"],name:"Gallery",components:{Sticky:l["default"],Delete:n["default"]},data(){return{form:{},items:[],modalUpload:!1,itemToDelete:{},modalDelete:!1,loading:!1,api:o["a"],totalGetItems:0}},mounted(){VueEvent.listen("deleted",this.deleteItem),this.getItems()},computed:{hasEmptyState(){return!this.loading&&(1===this.totalGetItems&&0===this.items.length)}},methods:{openFile(t){window.open(t.url,"_blank")},iconFile(t){let e="";switch(t){case"docx":case"doc":e="text-blue fa fa-file-word fa-7x";break;case"xlsx":case"xls":e="text-blue fa fa-file-excel fa-7x";break;case"pdf":e="text-blue fa fa-file-pdf fa-7x";break;case"zip":e="text-blue fa fa-file-archive fa-7x";break;default:e="text-blue fa fa-file fa-7x"}return e},showAddMedia(){document.getElementById("files").click()},showModalDelete(t){this.itemToDelete=t,this.modalDelete=!0},async sendFiles(){try{this.modalUpload=!0;let t=document.getElementById("files").files,e=t.length;if(e>0){let a=new FormData;for(let i=0;i<e;i++)a.append("file"+i,t[i]);a.append("totalfiles",t.length),a.append("client_id",this.item.id);let s=await o["a"].store(a);this.items=s.data,this.modalUpload=!1}}catch(t){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!"),this.modalUpload=!1}},deleteItem(t){this.items=this.items.filter((e=>e.id!==t))},async getItems(){try{let t={params:{client_id:this.item.id}};this.loading=!0;let e=await this.api.index(t);this.items=e.data,this.loading=!1,this.totalGetItems++}catch(t){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!"),this.loading=!1}}},beforeDestroy(){VueEvent.unlisten("deleted",this.deleteItem)}},d=c,u=(a("73ef"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"4639c91a",null);e["default"]=p.exports},"09ff":function(t,e,a){"use strict";a("a339")},"0c92":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 q-mb-sm bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),t.isPostAction?t._e():a("q-btn",{attrs:{disable:!s,color:"secondary",label:"Guardar"},on:{click:t.save}})],1)],1):t._e(),a("q-stepper",{ref:"stepper",staticClass:"card-h",attrs:{color:"primary","header-nav":!t.isPostAction},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("q-step",{attrs:{name:1,title:"Generales",icon:"settings",done:t.step>1}},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.valid;return[a("div",{staticClass:"row step_h"},[a("div",{staticClass:"col-12 row"},[a("div",{staticClass:"col-12 "},[a("ValidationProvider",{attrs:{vid:"code",slim:"",name:"code",rules:"required"}},[a("q-input",{staticClass:"q-mt-md",attrs:{autofocus:"",outlined:"",label:"Codigo *",dense:""},model:{value:t.form.code,callback:function(e){t.$set(t.form,"code",e)},expression:"form.code"}})],1),a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Nombre corto *",dense:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Descripción",type:"textarea",dense:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}}),a("div",{staticClass:"q-mt-md"},[a("q-radio",{staticClass:"q-mr-md",attrs:{dense:"",val:"inventory",label:"Producto"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}}),a("q-radio",{attrs:{dense:"",val:"service",label:"Servicio"},model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}})],1),a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-select",{staticClass:"q-mt-lg",attrs:{outlined:"",options:t.measures,"option-value":"id","option-label":"name","emit-value":"","map-options":"",label:"Unida de medida",dense:""},scopedSlots:t._u([{key:"after",fn:function(){return[a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewMeasure}},[t._v("+")])]},proxy:!0}],null,!0),model:{value:t.form.measure_id,callback:function(e){t.$set(t.form,"measure_id",e)},expression:"form.measure_id"}})],1),a("q-btn",{staticClass:"q-mt-lg",on:{click:t.showAddMedia}},[t._v("Ficha técnica")]),a("input",{attrs:{type:"file",hidden:"",id:"file"},on:{change:t.getFile}})],1)]),a("div",{staticClass:"col-12 self-end"},[a("q-btn",{staticClass:"self-end",attrs:{disable:!s,color:"primary",label:"Continuar"},on:{click:function(e){t.step=2}}})],1)])]}}],null,!0)})],1),a("q-step",{staticClass:"step_h",attrs:{name:2,title:"Precios",icon:"fa fa-dollar-sign",done:t.step>2}},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.valid;return[a("div",{staticClass:"row step_h"},[a("div",{staticClass:"col-12 row"},[a("div",{staticClass:"col-12"},[a("ValidationProvider",{attrs:{rules:"required"}},[a("Prices",{attrs:{typeProduct:t.form.type},model:{value:t.form.prices,callback:function(e){t.$set(t.form,"prices",e)},expression:"form.prices"}})],1)],1)]),a("div",{staticClass:"col-12 row self-end"},[a("div",{staticClass:"col-6"},[a("q-btn",{attrs:{color:"brown",outline:"",label:"atras"},on:{click:function(e){t.step=1}}})],1),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{attrs:{disable:!s,color:"primary",label:"Continuar"},on:{click:function(e){t.step=3}}})],1)])])]}}],null,!0)})],1),a("q-step",{staticClass:"step_h",attrs:{name:3,title:"Proveedores",icon:"fa fa-box-open",done:t.step>3}},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.valid;return[a("div",{staticClass:"row step_h"},[a("div",{staticClass:"col-12 row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Lista de Proveedores")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:function(e){return t.openProviderDrawer()}}},[t._v("+")])],1),a("q-separator"),t._l(t.form.providers,(function(e){return a("div",{key:e.id,staticClass:"row q-mb-md q-mt-lg"},[a("div",{staticClass:"col-5"},[a("span",{staticClass:"q-mr-md"},[t._v(t._s(e.name))])]),a("div",{staticClass:"col-2"},[a("q-btn",{attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.addDeleteProvider(e.id)}}})],1)])}))],2)]),a("div",{staticClass:"col-12 row self-end"},[a("div",{staticClass:"col-6"},[a("q-btn",{attrs:{color:"brown",outline:"",label:"atras"},on:{click:function(e){t.step=2}}})],1),a("div",{staticClass:"col-6 text-right"},[a("q-btn",{attrs:{disable:!s,color:"primary",label:"Continuar"},on:{click:function(e){t.step=4}}})],1)])])]}}],null,!0)})],1),a("q-step",{staticClass:"step_h",attrs:{name:4,title:"Relacionados",icon:"fa fa-project-diagram"}},[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.valid;return[a("div",{staticClass:"row step_h"},[a("div",{staticClass:"col-12 row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Productos relacionados")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:function(e){return t.openProductDrawer()}}},[t._v("+")])],1),a("q-separator"),t._l(t.form.relates,(function(e){return a("div",{key:e.id},[a("q-separator"),a("div",{staticClass:"row q-mb-md q-mt-lg"},[a("div",{staticClass:"col-8"},[a("span",{staticClass:"q-mt-md"},[t._v(t._s(e.name))])]),a("div",{staticClass:"col-3"},[a("ValidationProvider",{attrs:{rules:"required|decimal"}},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Cantidad relacionada *",dense:""},model:{value:e.quantity,callback:function(a){t.$set(e,"quantity",t._n(a))},expression:"relate.quantity"}})],1)],1),a("div",{staticClass:"col-1"},[a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.addDeleteRelated(e.id)}}})],1)])],1)}))],2)]),a("div",{staticClass:"col-12 row self-end"},[a("div",{staticClass:"col-6"},[a("q-btn",{attrs:{color:"brown",outline:"",label:"atras"},on:{click:function(e){t.step=3}}})],1),a("div",{staticClass:"col-6 text-right"},[t.isPostAction?a("q-btn",{attrs:{disable:!s,color:"secondary",label:"Guardar"},on:{click:t.save}}):t._e()],1)])])]}}],null,!0)})],1)],1)]}}])})],1)},i=[],r=(a("e6cf"),a("da3d")),o=a("73c5"),n=a("92d8"),l=a("296c"),c=(a("c615"),{extends:r["default"],name:"CreateProduct",components:{Prices:l["default"]},data(){return{api:o["a"],step:1,showProviderListDrawer:!1,form:{name:"",code:"",description:"",type:"inventory",measure_id:null,prices:[],providers:[],relates:[]},file:{},measures:[],createdEvent:"created-product",updatedEvent:"updated-product"}},mounted(){VueEvent.listen("created-measure",this.addItemMeasure),VueEvent.listen("provider-selected",this.getProviders),VueEvent.listen("products-selected",this.getProducts),this.getMeasures()},beforeDestroy(){VueEvent.unlisten("created-measure",this.addItem),VueEvent.unlisten("provider-selected",this.getProviders),VueEvent.unlisten("products-selected",this.getProducts)},methods:{getFile(){let t=document.getElementById("file").files;t.length>0&&(this.file=t[0])},showAddMedia(){document.getElementById("file").click()},addItemMeasure(t){this.measures.unshift(t)},addNewMeasure(){this.addDrawer("MeasureCreate",{title:"crear medida"},45)},getProviders(t){let e=t.filter((t=>!this.form.providers.map((t=>t.id)).includes(t.id)));this.form.providers=this.form.providers.concat(e)},getProducts(t){let e=t.filter((t=>!this.form.relates.map((t=>t.id)).includes(t.id)));this.form.relates=this.form.relates.concat(e)},openProductDrawer(){this.addDrawer("ProductList",{title:"lista de productos",productsOff:[this.form.id]},50)},openProviderDrawer(){this.addDrawer("ProviderList",{title:"lista de proveedores"},45)},addDeleteRelated(t){this.form.relates=this.form.relates.filter((e=>e.id!==t))},addDeleteProvider(t){this.form.providers=this.form.providers.filter((e=>e.id!==t))},async getMeasures(){let t={params:{paging:"off"}};try{this.loading=!0;let e=await n["a"].index(t);this.measures=e.data}catch(e){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!")}}}}),d=c,u=(a("4301"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"c2a1fb0a",null);e["default"]=p.exports},"0fd4":function(t,e,a){"use strict";a("10ed")},"10ed":function(t,e,a){},"11b4":function(t,e,a){},"15c3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 q-mb-sm bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.save)}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-input",{attrs:{autofocus:"",outlined:"",label:"Nombre y apellidos *",dense:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("ValidationProvider",{attrs:{vid:"email",slim:"",name:"email",rules:"required|email"}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Email *",dense:"",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("ValidationProvider",{attrs:{vid:"password",slim:"",name:"password",rules:t.rulePassword}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Password * (min 4)",type:t.passwordType,dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{color:"grey-5",name:"fa fa-eye"},on:{click:t.showPassword}})]},proxy:!0}],null,!0),model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("div",{staticClass:"flex"},[a("q-toggle",{staticClass:"q-mt-sm q-mr-lg",attrs:{color:"green",label:"Activo"},model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}}),a("q-toggle",{staticClass:"q-mt-sm",attrs:{color:"green",label:"Vendedor"},model:{value:t.form.seller,callback:function(e){t.$set(t.form,"seller",e)},expression:"form.seller"}}),a("q-toggle",{staticClass:"q-mt-sm",attrs:{color:"green",label:"Admin"},model:{value:t.form.admin,callback:function(e){t.$set(t.form,"admin",e)},expression:"form.admin"}}),a("q-toggle",{staticClass:"q-mt-sm",attrs:{color:"green",label:"Visualizar todos los prospectos"},model:{value:t.form.free_for_all,callback:function(e){t.$set(t.form,"free_for_all",e)},expression:"form.free_for_all"}}),a("q-toggle",{staticClass:"q-mt-sm",attrs:{color:"green",label:"Manipular porcientos"},model:{value:t.form.manager_percentage,callback:function(e){t.$set(t.form,"manager_percentage",e)},expression:"form.manager_percentage"}})],1),a("q-separator",{staticClass:"q-my-md"}),a("span",[t._v("Permisos")]),a("ValidationProvider",{attrs:{vid:"permissions",slim:"",name:"permissions",rules:"required"}},[a("q-option-group",{attrs:{options:t.options,type:"checkbox",filled:""},model:{value:t.form.permissions,callback:function(e){t.$set(t.form,"permissions",e)},expression:"form.permissions"}})],1),a("span",{staticClass:"text-grey q-mt-lg"},[t._v("* Al menos un permiso es requerido.")])],1)],1)]}}])})],1)},i=[],r=(a("e6cf"),a("da3d")),o=a("35ca"),n={extends:r["default"],name:"Add",data(){return{api:o["a"],form:{admin:!1,name:"",email:"",permissions:[],seller:!0,status:!0,manager_percentage:!1,free_for_all:!1},passwordType:"password",options:[],createdEvent:"created-User",updatedEvent:"updated-User"}},computed:{rulePassword(){return this.isPostAction?"required|min:4":""}},mounted(){this.getResources()},methods:{showPassword(){this.passwordType="password"===this.passwordType?"text":"password"},async getResources(){let t=await this.api.permissions();this.options=t.data.map((function(t){return{value:t.value,label:t.name,id:t.id}}))}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},"19f5":function(t,e,a){},"19ff":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 q-mb-sm bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.emitProducts)}}},[t._v("Aplicar")])],1)],1):t._e(),a("q-card",{staticClass:"card-h",attrs:{square:""}},[a("q-card-section",[a("q-input",{staticClass:"col-3",attrs:{outlined:"",debounce:"300",label:"Buscar por nombre o codigo",dense:""},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),a("q-card-section",{staticClass:"list"},[a("ValidationProvider",{attrs:{rules:"required"}},[a("q-option-group",{attrs:{options:t.items,type:"checkbox"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)]}}])})],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("e6cf"),a("da3d")),l=a("73c5"),c={extends:n["default"],name:"ProviderList",props:{productsOff:{type:Array,default:()=>[]}},data(){return{api:l["a"],items:[],selected:[],filters:{name:null,type:"inventory",template:"list"},products:[]}},watch:{filters:{deep:!0,handler(){this.getItems()}}},mounted(){this.getItems()},methods:{addItem(t){this.products.unshift(t),this.items.unshift({label:t.name,value:t.id})},openAddDrawer(){},emitProducts(){let t=this.products.filter((t=>this.selected.includes(t.id)));VueEvent.fire("products-selected",t),this.closeDrawer()},async getItems(){let t={params:o()({list:!0},this.filters)};try{this.loading=!0;let e=await this.api.index(t);this.products=e.data.filter((t=>!this.productsOff.includes(t.id))),this.items=this.products.map((t=>({label:"("+t.code+") "+t.name,value:t.id})))}catch(e){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!"),this.loading=!1}}},beforeDestroy(){VueEvent.unlisten("created-Provider",this.addItem)}},d=c,u=(a("3922"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"519d974a",null);e["default"]=p.exports},"1b3d":function(t,e,a){},"1d12":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.save)}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",[a("ValidationProvider",{attrs:{vid:"company",slim:"",name:"company",rules:"required"}},[a("q-input",{attrs:{autofocus:"",outlined:"",label:"Empresa *",dense:""},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}})],1),a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Nombre y apellidos *",dense:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Telefonos",dense:"",type:"email"},model:{value:t.form.phones,callback:function(e){t.$set(t.form,"phones",e)},expression:"form.phones"}}),a("ValidationProvider",{attrs:{vid:"email1",slim:"",name:"email1",rules:"required|email"}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Email (1) *",dense:"",type:"email"},model:{value:t.form.email1,callback:function(e){t.$set(t.form,"email1",e)},expression:"form.email1"}})],1),a("ValidationProvider",{attrs:{vid:"email2",slim:"",name:"email2",rules:"email"}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Email (2)",dense:"",type:"email"},model:{value:t.form.email2,callback:function(e){t.$set(t.form,"email2",e)},expression:"form.email2"}})],1),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Direccion (1)",dense:""},model:{value:t.form.address1,callback:function(e){t.$set(t.form,"address1",e)},expression:"form.address1"}}),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Direccion (2)",dense:""},model:{value:t.form.address2,callback:function(e){t.$set(t.form,"address2",e)},expression:"form.address2"}})],1)],1)]}}])})],1)},i=[],r=a("da3d"),o=a("25fc"),n={extends:r["default"],name:"Add",data(){return{api:o["a"],form:{id:null,company:"",name:"",email1:"",email2:"",address1:"",address2:"",phones:""},options:[],createdEvent:"created-Provider",updatedEvent:"updated-Provider"}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},"1d72":function(t,e,a){},2034:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Lista de consumos")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewConsumption}},[t._v("+")])],1),a("q-separator"),t._l(t.consumptions,(function(e){return a("div",{key:e.id,staticClass:"row q-mb-md q-mt-sm"},[a("div",{staticClass:"col-3"},[a("ValidationProvider",{attrs:{rules:"required"}},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Periodo *",dense:""},model:{value:e.period,callback:function(a){t.$set(e,"period",a)},expression:"consumption.period"}})],1)],1),a("div",{staticClass:"col-4"},[a("ValidationProvider",{attrs:{rules:"required|decimal|min:1"}},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"kWh *",dense:""},model:{value:e.kwh,callback:function(a){t.$set(e,"kwh",t._n(a))},expression:"consumption.kwh"}})],1)],1),a("div",{staticClass:"col-4"},[a("ValidationProvider",{attrs:{rules:"required|decimal"}},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Facturacion *",dense:""},model:{value:e.consumption,callback:function(a){t.$set(e,"consumption",t._n(a))},expression:"consumption.consumption"}})],1)],1),a("div",{staticClass:"col-1"},[a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.deleteConsumption(e)}}})],1)])}))],2)},i=[],r=a("ded3"),o=a.n(r),n={name:"Consumption",props:{value:{type:Array,default:()=>[]}},data(){return{item:{id:0,period:"",kwh:null,consumption:null},consumptions:[]}},watch:{value(t){this.consumptions=t}},methods:{addNewConsumption(){let t=o()({},this.item);t.id=Math.random().toString(36).substring(7),this.consumptions.push(t),this.$emit("input",this.consumptions)},deleteConsumption(t){this.consumptions=this.consumptions.filter((e=>e.id!==t.id)),this.$emit("input",this.consumptions)}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},"25fc":function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"providers",t)},show(t){return i["a"].get(s["a"]+"providers/"+t)},store(t){return i["a"].post(s["a"]+"providers",t)},update(t,e){return i["a"].put(s["a"]+"providers/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"providers/"+t)}}},"296c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Lista de Precios")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewPrice}},[t._v("+")])],1),a("q-separator"),t._l(t.prices,(function(e){return a("div",{key:e.id,staticClass:"row q-mb-md q-mt-sm"},[a("div",{staticClass:"col-1"},[a("q-radio",{attrs:{val:e.id},model:{value:t.priceDefault,callback:function(e){t.priceDefault=e},expression:"priceDefault"}})],1),a("div",{class:t.getCol},[a("ValidationProvider",{attrs:{rules:"required|decimal|min:1"}},[a("q-input",{staticClass:"q-mr-md",attrs:{disable:e.used,outlined:"",label:"Precio de compra *",dense:""},on:{input:function(a){return t.setSalePrice(e)}},model:{value:e.price,callback:function(a){t.$set(e,"price",t._n(a))},expression:"price.price"}})],1)],1),"inventory"===t.typeProduct?a("div",{staticClass:"col-3"},[a("ValidationProvider",{attrs:{rules:"required"}},[a("q-select",{staticClass:"q-mr-md",attrs:{disable:!t.auth.user.manager_percentage,outlined:"",options:t.percents,"option-value":"percentage","option-label":"percentage","emit-value":"","map-options":"",label:"Porcientos",dense:""},on:{input:function(a){return t.setSalePrice(e)}},model:{value:e.percent_apply,callback:function(a){t.$set(e,"percent_apply",a)},expression:"price.percent_apply"}})],1)],1):t._e(),a("div",{class:t.getCol},[a("ValidationProvider",{attrs:{rules:"required|decimal"}},[a("q-input",{staticClass:"q-mr-md",attrs:{disable:e.used,outlined:"",label:"Precio de venta *",dense:""},model:{value:e.sale_price,callback:function(a){t.$set(e,"sale_price",t._n(a))},expression:"price.sale_price"}})],1)],1),a("div",{staticClass:"col-1"},[null!==e.created_at&&e.used?t._e():a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.addDeletePrice(e)}}})],1)])}))],2)},i=[],r=a("ded3"),o=a.n(r),n=(a("e6cf"),a("ada4"),a("3c97")),l={name:"Prices",props:{value:{type:Array,default:()=>[]},typeProduct:{type:String,default:"inventory"}},data(){return{prices:[],currentPercent:0,priceDefault:0,percents:[],price:{id:0,price:1,percent_apply:null,sale_price:0,created_at:null,default:!1,used:!1}}},watch:{value(){this.prices=JSON.parse(JSON.stringify(this.value))},priceDefault(t){this.prices.forEach((e=>{e.default=e.id===t})),this.$emit("input",this.prices)},"form.percent_apply":function(){"inventory"===this.typeProduct?this.form.sale_price=this.form.price+this.form.price*this.form.percent_apply/100:value.sale_price=value.price,this.$emit("input",this.prices)}},computed:{auth(){return this.$store.getters["auth/getUser"]},getCol(){return"inventory"===this.typeProduct?"col-3":"col-5"}},mounted(){if(this.prices=JSON.parse(JSON.stringify(this.value)),this.priceDefault=0,this.prices.length){let t=this.prices.find((t=>t.default));this.priceDefault=void 0!==t?t.id:0}this.getCurrentUpPercent()},methods:{setSalePrice(t){0!==t.price&&""!==t.price||(t.price=1),"inventory"===this.typeProduct?t.sale_price=t.price+t.price*t.percent_apply/100:t.sale_price=t.price,this.$emit("input",this.prices)},async getCurrentUpPercent(){let t=await n["a"].index();this.percents=t.data,this.percents.length>0?this.price.percent_apply=this.percents[0].percentage:this.$alert.warning("No existen porcentages para crear precios!")},addNewPrice(){let t=o()({},this.price);t.id=Math.random().toString(36).substring(7),t.percent_apply=this.percents[0].percentage,0===this.prices.length&&(this.priceDefault=t.id),this.prices.unshift(o()({},t)),this.$emit("input",this.prices)},addDeletePrice(t){this.prices=this.prices.filter((e=>e.id!==t.id)),this.$emit("input",this.prices)}}},c=l,d=a("2877"),u=Object(d["a"])(c,s,i,!1,null,"1da3c061",null);e["default"]=u.exports},"2f8a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.drawers,(function(e,s){return a("q-drawer",{key:s,attrs:{side:"right",elevated:"",overlay:"",width:e.pixels},model:{value:t.visibilities[s],callback:function(e){t.$set(t.visibilities,s,e)},expression:"visibilities[index]"}},[a("portal-target",{attrs:{name:"drawer"+s}}),e.component?a(e.component,t._b({tag:"component",staticStyle:{overflow:"auto"},attrs:{"drawer-index":s,"portal-key":"drawer"+s}},"component",e.props,!1)):t._e()],1)})),1)},i=[],r=(a("ddb0"),a("5319"),a("26e9"),a("2b0e"));const o=a("b9d4");o.keys().map((t=>{let e=t.replace(/(^.\/)/g,"").split(".")[0];if(1===(e.match(/\//g)||[]).length){let a=e.replace(/\//g,"");r["default"].component(a,o(t).default)}}));var n={name:"DrawerManager",data(){return{visibilities:[]}},computed:{drawers(){let t=this.$store.getters["drawer/getDrawers"]?this.$store.getters["drawer/getDrawers"]:[];return t=t.map(((t,e)=>(t.pixels=t.width,t))),t=t.reverse(),t=t.map(((e,a)=>{if(a>0){let s=t[a-1].pixels;e.pixels<=s&&(e.pixels=s+80)}return e})),t=t.reverse(),t}},watch:{drawers(t){setTimeout((()=>{this.visibilities=t.map(((t,e)=>void 0===this.visibilities[e]||this.visibilities[e]))}),1)}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,"11fe143c",null);e["default"]=d.exports},"310a":function(t,e,a){"use strict";a("561a")},"35ca":function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"users",t)},show(t){return i["a"].get(s["a"]+"users/"+t)},store(t){return i["a"].post(s["a"]+"users",t)},update(t,e){return i["a"].put(s["a"]+"users/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"users/"+t)},login(t){return i["a"].post(s["a"]+"users/login",t)},permissions(){return i["a"].get(s["a"]+"users/permissions/list")}}},"37c0":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-item",{attrs:{clickable:"",tag:"a",target:"_blank",href:t.link}},[t.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:t.icon}})],1):t._e(),a("q-item-section",[a("q-item-label",[t._v(t._s(t.title))]),a("q-item-label",{attrs:{caption:""}},[t._v("\n      "+t._s(t.caption)+"\n    ")])],1)],1)},i=[],r={name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}}},o=r,n=a("2877"),l=Object(n["a"])(o,s,i,!1,null,null,null);e["default"]=l.exports},3922:function(t,e,a){"use strict";a("1d72")},"3bed":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 q-mb-sm bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.emitProviders)}}},[t._v("Aplicar")])],1)],1):t._e(),a("q-card",{staticClass:"card-h",attrs:{square:""}},[a("q-card-section",[a("q-input",{staticClass:"col-3",attrs:{outlined:"",debounce:"300",label:"Buscar por nombre",dense:""},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),a("q-card-section",{staticClass:"list"},[a("ValidationProvider",{attrs:{rules:"required"}},[a("q-option-group",{attrs:{options:t.items,type:"checkbox"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)]}}])}),a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-btn",{attrs:{fab:"",icon:"add",color:"green-10"},on:{click:function(e){return t.openAddDrawer()}}})],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("e6cf"),a("da3d")),l=a("25fc"),c={extends:n["default"],name:"ProviderList",data(){return{api:l["a"],items:[],selected:[],filters:{name:null},providers:[]}},watch:{filters:{deep:!0,handler(){this.getItems()}}},mounted(){this.getItems(),VueEvent.listen("created-Provider",this.addItem)},methods:{addItem(t){this.providers.unshift(t),this.items.unshift({label:t.name,value:t.id})},openAddDrawer(){this.addDrawer("ProviderCreate",{title:"crear proveedor"},45)},emitProviders(){let t=this.providers.filter((t=>this.selected.includes(t.id)));VueEvent.fire("provider-selected",t),this.closeDrawer()},async getItems(){let t={params:o()({list:!0},this.filters)};try{this.loading=!0;let e=await this.api.index(t);this.providers=e.data,this.items=e.data.map((t=>({label:t.name,value:t.id})))}catch(e){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!"),this.loading=!1}}},beforeDestroy(){VueEvent.unlisten("created-Provider",this.addItem)}},d=c,u=(a("0300"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"5ddd525a",null);e["default"]=p.exports},"3c97":function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"percents",t)},show(t){return i["a"].get(s["a"]+"percents/"+t)},store(t){return i["a"].post(s["a"]+"percents",t)},update(t,e){return i["a"].put(s["a"]+"percents/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"percents/"+t)},setDefault(t){return i["a"].get(s["a"]+"percents/default/"+t)}}},4301:function(t,e,a){"use strict";a("8902")},"463e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 q-mb-sm bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.save)}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-input",{attrs:{autofocus:"",outlined:"",label:"Medida",dense:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1)],1)]}}])})],1)},i=[],r=a("da3d"),o=a("92d8"),n={extends:r["default"],name:"Add",data(){return{api:o["a"],form:{name:""},createdEvent:"created-measure",updatedEvent:"updated-measure"}},methods:{}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},"4ce3":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.hasEmptyState?a("div",{staticClass:"flex column flex-center empty-state"},[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))])],1)],1):t._e(),a("div",{staticClass:"text-h4 text-grey q-mb-lg"},[t._v("Aun no has ingresado una cotizacion!.")]),a("div",[a("q-btn",{staticClass:"text-black q-mt-lg q-mr-lg",attrs:{color:"green"},on:{click:function(e){return t.openAddDrawer()}}},[t._v("Cotizacion por recivos")]),a("q-btn",{staticClass:"text-black q-mt-lg",attrs:{color:"green"},on:{click:function(e){return t.openAddDrawerLive()}}},[t._v("Cotizacion de contado")])],1)],1):a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm"},[a("q-card-section",[a("q-table",{attrs:{flat:"",data:t.items,columns:t.columns,pagination:t.pagination,loading:t.loading,"binary-state-sort":"","hide-pagination":""},on:{"update:pagination":function(e){t.pagination=e},request:t.getItems},scopedSlots:t._u([{key:"body-cell-created_at",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v("\n            "+t._s(t.formattedDate(e.row.created_at))+"\n          ")])]}},{key:"body-cell-total_dls",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.total_dls)))])])]}},{key:"body-cell-number_service",fn:function(e){return[a("q-td",{attrs:{props:e}},[null!==e.row.number_service?a("span",[a("b",[t._v(" "+t._s(e.row.number_service))])]):a("span",[t._v(" -")])])]}},{key:"body-cell-required_units",fn:function(e){return[a("q-td",{attrs:{props:e}},[null!==e.row.required_units?a("span",[a("b",[t._v(" "+t._s(e.row.required_units))])]):a("span",[t._v(" -")])])]}},{key:"body-cell-total_amount",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.total)))])])]}},{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{attrs:{flat:"","fab-mini":"",color:"blue-grey",icon:"fa fa-ellipsis-v"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"130px"}},["prospect"===e.row.status?a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.openUpdateDrawer(e.row)}}},[a("q-item-section",[t._v("Actualizar")])],1):a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.openUpdateDrawerLive(e.row)}}},[a("q-item-section",[t._v("Actualizar")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.printQuote(e.row)}}},[a("q-item-section",[t._v("Imprimir")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.showSetClient(e.row)}}},[a("q-item-section",[t._v("Crear cliente")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return t.showModalDelete(e.row)}}},[a("q-item-section",{staticClass:"text-red"},[t._v("Eliminar")])],1)],1)],1)],1)],1)]}}])}),a("q-separator"),t.pagesNumber>1?a("div",{staticClass:"row q-mt-md"},[a("q-pagination",{attrs:{color:"grey-8",max:t.pagesNumber,size:"md"},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],1):t._e()],1),t.hasEmptyState?t._e():a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[a("q-fab",{attrs:{fab:"",icon:"fas fa-ellipsis-h",color:"green",direction:"up"}},[a("q-fab-action",{attrs:{icon:"fa fa-solar-panel",color:"green-10"},on:{click:t.openAddDrawer}}),a("q-fab-action",{attrs:{icon:"fa fa-money-check-alt",color:"green-10"},on:{click:t.openAddDrawerLive}})],1)],1),a("Delete",{attrs:{item:t.itemToDelete,target:t.getTarget(),api:t.api,title:"Eliminar cotizacion"},model:{value:t.modalDelete,callback:function(e){t.modalDelete=e},expression:"modalDelete"}}),a("q-dialog",{attrs:{persistent:""},model:{value:t.setClientOn,callback:function(e){t.setClientOn=e},expression:"setClientOn"}},[a("q-card",{staticStyle:{width:"500px"}},[a("q-card-section",{staticClass:"row items-center bg-green-5"},[a("q-avatar",{attrs:{icon:"fa fa-user","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[t._v("CREAR CLIENTE")])],1),a("q-separator"),a("q-card-section",[a("p",{staticClass:"text-black text-h4"},[t._v(t._s(t.item.name))]),a("p",[t._v("Esta operación es irrevercible!")])]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar",color:"grey"},on:{click:function(e){t.setClientOn=!t.setClientOn}}}),a("q-btn",{attrs:{label:"Crear",color:"green"},on:{click:t.setClient}})],1)],1)],1)],1)],1)},i=[],r=(a("e6cf"),a("3ab0")),o=a("fa00"),n=a("649c"),l=a("b178"),c={extends:r["a"],name:"Services",props:{portalKey:{},title:{type:String,default:""},item:{}},data(){return{setClientOn:!1,api:o["a"],columns:[{name:"created_at",label:"Fecha",field:"created_at",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"folio",label:"Folio",field:"folio",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"number_service",label:"Servicio",field:"number_service",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"required_units",label:"Unidades requeridas",field:"required_units",sortable:!1,align:"left",headerClasses:"text-uppercase"},{name:"total_amount",label:"TOTAL",field:"total",align:"left",headerClasses:"text-uppercase"},{name:"total_dls",label:"Dls",field:"total_dls",align:"left",headerClasses:"text-uppercase"},{name:"actions",label:"",field:""}],filters:{client_id:this.item.id},quote:null}},components:{Delete:n["default"]},mounted(){VueEvent.listen("deleted",this.deleteItem),VueEvent.listen("created-service",this.addItem),VueEvent.listen("updated-service",this.updateItem),VueEvent.listen("created-quote",this.addItem),VueEvent.listen("updated-quote",this.updateItem)},beforeDestroy(){VueEvent.unlisten("deleted",this.deleteItem),VueEvent.unlisten("created-service",this.addItem),VueEvent.unlisten("updated-service",this.updateItem),VueEvent.unlisten("created-quote",this.addItem),VueEvent.unlisten("updated-quote",this.updateItem)},methods:{getTarget(){return this.itemToDelete.folio+" -- "+this.itemToDelete.created_at},formattedDate(t){return l["c"].formatDate(t,"DD-MM-YYYY")},showSetClient(t){this.quote=t,this.setClientOn=!0},async setClient(){try{this.setClientOn=!1;let t={client_id:this.item.id,quote_id:this.quote.id};await this.api.createClient(t),this.closeDrawer(),VueEvent.fire("deleted",this.item.id)}catch(t){this.$alert.negative("La operación no se completó, ocurrio un error!")}},printQuote(t){console.log(t.status),"prospect"===t.status?window.open("quote/"+t.id,"_blank"):window.open("single-quote/"+t.id,"_blank")},openAddDrawer(){this.addDrawer("ProspectCreateService",{title:"crear cotizacion",client:this.item.id},70)},openUpdateDrawer(t){this.addDrawer("ProspectCreateService",{title:"actualizar servicio",item:t,client:this.item.id},65)},openAddDrawerLive(){this.addDrawer("ProspectQuoteLive",{title:"crear cotizacion",client:this.item.id},70)},openUpdateDrawerLive(t){this.addDrawer("ProspectQuoteLive",{title:"actualizar cotizacion",item:t,client:this.item.id},65)}}},d=c,u=(a("09ff"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"393f275a",null);e["default"]=p.exports},5243:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!t.valid,color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.emitProducts(e)}}},[t._v("Adjuntar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("div",{staticClass:"flex justify-start q-mb-sm"},[a("span",{staticClass:"q-mr-md"},[t._v("Capacidad:\n             "),a("q-chip",{attrs:{"text-color":"black",size:"12px"}},[a("b",[t._v(t._s(t.helps.panel_capacity))])])],1),a("span",{staticClass:"q-mr-md"},[t._v("Paneles:\n             "),a("q-chip",{attrs:{"text-color":"black",size:"12px"}},[a("b",[t._v(t._s(t.helps.required_units))])])],1),a("span",{staticClass:"q-mr-md"},[t._v("Inversor:\n             "),a("q-chip",{attrs:{"text-color":"black",size:"12px"}},[a("b",[t._v(t._s(t.numberFormat(t.helps.inversor,0)))])])],1)]),a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Listado de productos")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewProduct}},[t._v("+")])],1),a("q-separator"),a("q-table",{staticClass:"table-h",attrs:{tile:"",flat:"",data:t.products,columns:t.columns,"binary-state-sort":"",pagination:t.pagination,"hide-pagination":"","virtual-scroll":"","virtual-scroll-item-size":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-description",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v("\n              "+t._s(e.row.description)+"\n            ")])]}},{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.deleteProduct(e.row)}}})],1)]}},{key:"body-cell-price",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.price)))])])]}},{key:"body-cell-amount",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.amount)))])])]}}])}),a("q-separator"),a("div",{staticClass:"flex q-mt-lg self-end q-mr-lg"},[a("q-input",{staticClass:"q-mr-lg",attrs:{dense:"",outlined:"",label:"Tipo de cambio"},model:{value:t.dlsChange,callback:function(e){t.dlsChange=t._n(e)},expression:"dlsChange"}}),a("div",{staticClass:"flex column text-right q-mr-md"},[a("p",[t._v("SUBTOTAL:")]),a("p",[t._v("IVA16%:")]),a("p",[t._v("TOTAL:")]),a("p",[t._v("PESOS:")])]),a("div",[a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.subtotal)))])]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.iva)))])]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.dls)))]),t._v(" DLLS")]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.total)))]),t._v(" MX")])])],1)],1)],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("13d5"),a("da3d")),l=a("73c5"),c={extends:n["default"],name:"Add",props:{items:{type:Array,default:()=>[]},dlsChangeType:{type:Number,default:1},helps:{required_units:0,panel_capacity:0,inversor:0}},data(){return{api:l["a"],products:[],dlsChange:1,pagination:{rowsPerPage:1e3},columns:[{name:"quantity",label:"Cantidad",field:"quantity",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 50px"},{name:"measure",label:"Unidad",field:"measure",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 50px"},{name:"description",label:"Descripcion",align:"left",field:t=>t.name,format:t=>`${t}`,sortable:!1,headerClasses:"text-uppercase",classes:"ellipsis",style:"max-width: 150px",headerStyle:"max-width: 150px"},{name:"price",label:"Precio",field:"price",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 70px"},{name:"amount",label:"Importe",field:"amount",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 70px"},{name:"actions",label:"",field:""}],createdEvent:"created-quote",updatedEvent:"updated-quote"}},mounted(){VueEvent.listen("addProduct",this.addProduct),this.products=JSON.parse(JSON.stringify(this.items)),this.dlsChange=JSON.parse(JSON.stringify(this.dlsChangeType))},computed:{valid(){return this.products.length>0},subtotal(){if(this.products.length>0){let t=this.products.reduce(((t,e)=>t+parseFloat(e.amount)),0);return t.toFixed(2)}return 0},iva(){return.16*this.subtotal},dls(){return(parseFloat(this.subtotal)+parseFloat(this.iva)).toFixed(2)},total(){return(parseFloat(this.subtotal)+parseFloat(this.iva))*this.dlsChange}},methods:{addProduct(t){this.products.push(o()({},t))},emitProducts(){VueEvent.fire("quotesList",{products:this.products,dls:this.dlsChange}),this.closeDrawer()},openUpdateDrawer(t){this.addDrawer("ProductAddToQuote",{title:"añadir producto",item:t},45)},addNewProduct(){this.addDrawer("ProductAddToQuote",{title:"añadir producto"},45)},deleteProduct(t){this.products=this.products.filter((e=>e.id!==t.id))}},beforeDestroy(){VueEvent.unlisten("addProduct",this.addProduct)}},d=c,u=(a("310a"),a("2877")),p=Object(u["a"])(d,s,i,!1,null,"34cf1cdb",null);e["default"]=p.exports},"53a5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 q-mb-sm bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.save)}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required|numeric"}},[a("q-input",{attrs:{autofocus:"",outlined:"",label:"Porciento",dense:""},model:{value:t.form.percentage,callback:function(e){t.$set(t.form,"percentage",e)},expression:"form.percentage"}})],1)],1)],1)]}}])})],1)},i=[],r=a("da3d"),o=a("3c97"),n={extends:r["default"],name:"Add",data(){return{api:o["a"],form:{percentage:""},createdEvent:"created-percent",updatedEvent:"updated-percent"}},methods:{}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},"561a":function(t,e,a){},5801:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!t.valid,color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.emitCalc(e)}}},[t._v("Calcular")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",[a("q-toggle",{staticClass:"q-mt-sm",attrs:{color:"green",label:"12 periodos"},model:{value:t.periods,callback:function(e){t.periods=e},expression:"periods"}}),a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Lista de consumos")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewConsumption}},[t._v("+")])],1),a("q-separator"),a("div",{staticClass:"div-h"},t._l(t.consumptions,(function(e){return a("div",{key:e.id,staticClass:"row q-mb-md q-mt-sm"},[a("div",{staticClass:"col-3"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Periodo *",dense:""},model:{value:e.period,callback:function(a){t.$set(e,"period",a)},expression:"consumption.period"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"kWh *",dense:""},model:{value:e.kwh,callback:function(a){t.$set(e,"kwh",t._n(a))},expression:"consumption.kwh"}})],1),a("div",{staticClass:"col-4"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Facturacion *",dense:""},model:{value:e.consumption,callback:function(a){t.$set(e,"consumption",t._n(a))},expression:"consumption.consumption"}})],1),a("div",{staticClass:"col-1"},[a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.deleteConsumption(e)}}})],1)])})),0)],1)],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=a("da3d"),l={extends:n["default"],name:"Consumptions",props:["items"],data(){return{consumptions:[],periods:!1,period:{id:0,period:"",kwh:"",consumption:""}}},computed:{valid(){if(this.consumptions.length>0){var t=0;return this.consumptions.forEach((e=>{(""===e.period||""===e.kwh||""===e.consumption||isNaN(e.kwh)||isNaN(e.consumption))&&t++})),!this.periods&&this.consumptions.length<6&&t++,this.periods&&this.consumptions.length<12&&t++,0===t}return!1}},mounted(){this.consumptions=JSON.parse(JSON.stringify(this.items))},methods:{emitCalc(){var t=0;this.consumptions.forEach((e=>{0!==e.kwh&&0!==e.consumption||t++})),t=this.consumptions.length-t,VueEvent.fire("consumptionList",{consumptions:this.consumptions,realLength:t}),this.closeDrawer()},addNewConsumption(){if(!this.periods&&this.consumptions.length<6){let t=o()({},this.period);t.id=Math.random().toString(36).substring(7),this.consumptions.push(t)}if(this.periods&&this.consumptions.length<12){let t=o()({},this.period);t.id=Math.random().toString(36).substring(7),this.consumptions.push(t)}},deleteConsumption(t){this.consumptions=this.consumptions.filter((e=>e.id!==t.id))}}},c=l,d=(a("f7d6"),a("2877")),u=Object(d["a"])(c,s,i,!1,null,"4172b39a",null);e["default"]=u.exports},"609a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!t.valid,color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.save()}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Listado de productos")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewProduct}},[t._v("+")])],1),a("q-separator"),a("q-table",{staticClass:"table-h",attrs:{tile:"",flat:"",data:t.form.quotes,columns:t.columns,"binary-state-sort":"",pagination:t.pagination,"hide-pagination":"","virtual-scroll":"","virtual-scroll-item-size":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-description",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v("\n              "+t._s(e.row.description)+"\n            ")])]}},{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.deleteProduct(e.row)}}})],1)]}},{key:"body-cell-price",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.price)))])])]}},{key:"body-cell-amount",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.amount)))])])]}}])}),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Observaciones",type:"textarea",dense:""},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}}),a("q-separator"),a("div",{staticClass:"flex q-mt-lg self-end q-mr-lg"},[a("q-input",{staticClass:"q-mr-lg",attrs:{dense:"",outlined:"",label:"Tipo de cambio"},model:{value:t.form.dls_change,callback:function(e){t.$set(t.form,"dls_change",t._n(e))},expression:"form.dls_change"}}),a("div",{staticClass:"flex column text-right q-mr-md"},[a("p",[t._v("SUBTOTAL:")]),a("p",[t._v("IVA16%:")]),a("p",[t._v("TOTAL:")]),a("p",[t._v("PESOS:")])]),a("div",[a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.subtotal)))])]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.iva)))])]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.dls)))]),t._v(" DLLS")]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.total)))]),t._v(" MX")])])],1)],1)],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("13d5"),a("e6cf"),a("da3d")),l=a("cb33"),c=a("ada4"),d={extends:n["default"],name:"Add",props:{client:{}},data(){return{api:l["a"],form:{client_id:this.client,note:"",quotes:[],dls_change:1},pagination:{rowsPerPage:1e3},columns:[{name:"quantity",label:"Cantidad",field:"quantity",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 50px"},{name:"measure",label:"Unidad",field:"measure",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 50px"},{name:"description",label:"Descripcion",align:"left",field:t=>t.name,format:t=>`${t}`,sortable:!1,headerClasses:"text-uppercase",classes:"ellipsis",style:"max-width: 150px",headerStyle:"max-width: 150px"},{name:"price",label:"Precio",field:"price",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 70px"},{name:"amount",label:"Importe",field:"amount",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 70px"},{name:"actions",label:"",field:""}],createdEvent:"created-quote",updatedEvent:"updated-quote"}},mounted(){VueEvent.listen("addProduct",this.addProduct),this.isPostAction&&this.getCurrentChange()},computed:{valid(){return this.form.quotes.length>0},subtotal(){if(this.form.quotes.length>0){let t=this.form.quotes.reduce(((t,e)=>t+parseFloat(e.amount)),0);return t.toFixed(2)}return 0},iva(){return.16*this.subtotal},dls(){return(parseFloat(this.subtotal)+parseFloat(this.iva)).toFixed(2)},total(){return(parseFloat(this.subtotal)+parseFloat(this.iva))*this.form.dls_change}},methods:{async getCurrentChange(){let t=await c["a"].getMoneyCurrentChange();this.form.dls_change=t.data},addProduct(t){this.form.quotes.push(o()({},t))},openUpdateDrawer(t){this.addDrawer("ProductAddToQuote",{title:"añadir producto",item:t},45)},addNewProduct(){this.addDrawer("ProductAddToQuote",{title:"añadir producto"},45)},deleteProduct(t){this.form.quotes=this.form.quotes.filter((e=>e.id!==t.id))}},beforeDestroy(){VueEvent.unlisten("addProduct",this.addProduct)}},u=d,p=(a("c123"),a("2877")),m=Object(p["a"])(u,s,i,!1,null,"8dfc59da",null);e["default"]=m.exports},"64d5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row q-mb-md q-mt-sm"},[a("div",{staticClass:"col-1"},[a("q-radio",{attrs:{val:t.item.id},model:{value:t.item.default,callback:function(e){t.$set(t.item,"default",e)},expression:"item.default"}})],1),a("div",{class:t.getCol},[a("ValidationProvider",{attrs:{rules:"required|decimal|min:1"}},[a("q-input",{staticClass:"q-mr-md",attrs:{disable:t.item.used,outlined:"",label:"Precio de compra *",dense:""},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",t._n(e))},expression:"item.price"}})],1)],1),"inventory"===t.typeProduct?a("div",{staticClass:"col-3"},[a("ValidationProvider",{attrs:{rules:"required"}},[a("q-select",{staticClass:"q-mr-md",attrs:{disable:!t.auth.user.manager_percentage,outlined:"",options:t.percents,"option-value":"percentage","option-label":"percentage","emit-value":"","map-options":"",label:"Porcientos",dense:""},model:{value:t.item.percent_apply,callback:function(e){t.$set(t.item,"percent_apply",e)},expression:"item.percent_apply"}})],1)],1):t._e(),a("div",{class:t.getCol},[a("ValidationProvider",{attrs:{rules:"required|decimal"}},[a("q-input",{staticClass:"q-mr-md",attrs:{disable:t.item.used,outlined:"",label:"Precio de venta *",dense:""},model:{value:t.item.sale_price,callback:function(e){t.$set(t.item,"sale_price",t._n(e))},expression:"item.sale_price"}})],1)],1),a("div",{staticClass:"col-1"},[null!==t.item.created_at&&t.item.used?t._e():a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(e){return t.addDeletePrice()}}})],1)])},i=[],r={name:"Price",props:{value:{},typeProduct:{type:String,value:"inventory"},percents:{type:Array,value:()=>[]}},data(){return{item:{id:0,price:1,percent_apply:null,sale_price:0,created_at:null,default:!1,used:!1}}},computed:{auth(){return this.$store.getters["auth/getUser"]},getCol(){return"inventory"===this.typeProduct?"col-3":"col-5"}},watch:{"item.percent_apply":function(){"inventory"===this.typeProduct?this.item.sale_price=this.item.price+this.item.price*this.item.percent_apply/100:this.item.sale_price=this.item.price},value(){this.item=JSON.parse(JSON.stringify(this.value))},mounted(){this.item=JSON.parse(JSON.stringify(this.value))}}},o=r,n=a("2877"),l=Object(n["a"])(o,s,i,!1,null,"1bff8d14",null);e["default"]=l.exports},"73c5":function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"products",t)},show(t){return i["a"].get(s["a"]+"products/"+t)},store(t){return i["a"].defaults.headers.common["Content-Type"]="multipart/form-data; charset=utf-8;",i["a"].post(s["a"]+"products",t)},update(t,e){return i["a"].put(s["a"]+"products/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"products/"+t)}}},"73ef":function(t,e,a){"use strict";a("11b4")},7483:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"hHr Lpr ffr"}},[a("q-header",{staticClass:"bg-white text-green-7",attrs:{elevated:""}},[a("q-toolbar",[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"menu"},on:{click:function(e){t.left=!t.left}}}),a("q-toolbar-title",[a("q-avatar"),t._v("\n        Puerto Verde\n      ")],1),a("q-btn",{attrs:{rounded:"",dense:"",color:"blue",icon:"fa fa-user-circle"}},[a("q-menu",{attrs:{"auto-close":""}},[a("q-list",{staticStyle:{"min-width":"100px"}},[a("q-item",[a("q-item-section",[a("span",{staticClass:"text-blue"},[t._v(t._s(t.auth.user.name))]),a("span",{staticClass:"text-grey"},[t._v(t._s(t.auth.user.email))])])],1),a("q-separator"),a("q-item",{attrs:{clickable:""}},[a("q-item-section",[t._v("Ajustes")])],1),a("q-separator"),a("q-item",{attrs:{clickable:""},on:{click:t.logout}},[a("q-item-section",[t._v("Salir")])],1)],1)],1)],1)],1)],1),a("q-drawer",{attrs:{"show-if-above":"",side:"left",elevated:""},model:{value:t.left,callback:function(e){t.left=e},expression:"left"}},[a("Menu")],1),a("DrawerManager"),a("q-page-container",[a("router-view")],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("5319"),a("9e3a")),l=a("b178"),c=a("2f62"),d=a("2f8a"),u={data(){return{left:!1}},computed:{auth(){return this.$store.getters["auth/getUser"]}},components:{Menu:n["default"],DrawerManager:d["default"]},methods:o()(o()({},Object(c["b"])("auth",["clearUserMutation"])),{},{logout(){l["a"].remove("puerto_verde"),this.clearUserMutation(),this.$router.replace({name:"Login"})}})},p=u,m=(a("edcd"),a("2877")),f=Object(m["a"])(p,s,i,!1,null,null,null);e["default"]=f.exports},"796d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!t.valid,color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.emitSellers(e)}}},[t._v("Adjuntar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Listado de vendedores")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewSeller}},[t._v("+")])],1),a("q-separator"),t._l(t.sellers,(function(e,s){return a("div",{key:e.id,staticClass:"row q-mb-md q-mt-sm"},[a("div",{staticClass:"col-11"},[a("q-select",{staticClass:"q-mt-sm q-mr-sm",attrs:{outlined:"","use-input":"","input-debounce":"1",options:t.filter,"option-value":"id","option-label":"name","map-options":"",label:"Vendedor",dense:""},on:{filter:t.filterFn},model:{value:t.sellers[s],callback:function(e){t.$set(t.sellers,s,e)},expression:"sellers[key]"}})],1),a("div",{staticClass:"col-1"},[a("q-btn",{staticClass:"q-mt-md",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.deleteSeller(e)}}})],1)])}))],2)],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("e6cf"),a("da3d")),l=a("35ca"),c={extends:n["default"],name:"Add",props:["items"],data(){return{api:l["a"],sellers:[],seller:{name:"",id:null},options:[],filter:[],createdEvent:"created-seller",updatedEvent:"updated-seller"}},mounted(){this.getSellers(),this.sellers=JSON.parse(JSON.stringify(this.items)),this.filter=this.options},computed:{valid(){if(this.sellers.length>0){var t=0;return this.sellers.forEach((e=>{""!==e.id&&null!==e.id||t++})),0===t}return!1}},methods:{filterFn(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.filter=this.options.filter((t=>t.label.toLowerCase().indexOf(e)>-1))}:()=>{this.filter=this.options})},emitSellers(){VueEvent.fire("sellerList",this.sellers),this.closeDrawer()},addNewSeller(){let t=o()({},this.seller);this.sellers.push(t)},deleteSeller(t){this.sellers=this.sellers.filter((e=>e.id!==t.id))},async getSellers(){let t={params:{list:!0,seller:!0}};try{let e=await l["a"].index(t);this.options=e.data.map((t=>({id:t.id,name:t.name})))}catch(e){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!")}}}},d=c,u=a("2877"),p=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=p.exports},8902:function(t,e,a){},"91f2":function(t,e,a){},9366:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},i=[],r={name:"DrawerRight"},o=r,n=a("2877"),l=Object(n["a"])(o,s,i,!1,null,"a6bf2944",null);e["default"]=l.exports},"9c05":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!t.valid,color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.save()}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",{staticClass:"flex column"},[a("div",{staticClass:"flex justify-between q-mb-sm"},[a("span",{staticClass:"q-mt-sm"},[t._v("Listado de productos")]),a("q-btn",{attrs:{"fab-mini":"",color:"green"},on:{click:t.addNewProduct}},[t._v("+")])],1),a("q-separator"),a("q-table",{staticClass:"table-h",attrs:{tile:"",flat:"",data:t.form.quotes,columns:t.columns,"binary-state-sort":"",pagination:t.pagination,"hide-pagination":"","virtual-scroll":"","virtual-scroll-item-size":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"body-cell-description",fn:function(e){return[a("q-td",{attrs:{props:e}},[t._v("\n              "+t._s(e.row.description)+"\n            ")])]}},{key:"body-cell-actions",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("q-btn",{staticClass:"q-mt-sm",attrs:{size:"xs",round:"",color:"red",icon:"fa fa-trash-alt"},on:{click:function(a){return t.deleteProduct(e.row)}}})],1)]}},{key:"body-cell-price",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.price)))])])]}},{key:"body-cell-amount",fn:function(e){return[a("q-td",{attrs:{props:e}},[a("b",[t._v("$ "+t._s(t.numberFormat(e.row.amount)))])])]}}])}),a("q-separator"),a("div",{staticClass:"flex q-mt-lg self-end q-mr-lg"},[a("q-input",{staticClass:"q-mr-lg",attrs:{dense:"",outlined:"",label:"Tipo de cambio"},model:{value:t.form.dls_change,callback:function(e){t.$set(t.form,"dls_change",t._n(e))},expression:"form.dls_change"}}),a("div",{staticClass:"flex column text-right q-mr-md"},[a("p",[t._v("SUBTOTAL:")]),a("p",[t._v("IVA16%:")]),a("p",[t._v("TOTAL:")]),a("p",[t._v("PESOS:")])]),a("div",[a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.subtotal)))])]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.iva)))])]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.dls)))]),t._v(" DLLS")]),a("p",[a("b",[t._v("$ "+t._s(t.numberFormat(t.total)))]),t._v(" MX")])])],1)],1)],1)],1)},i=[],r=a("ded3"),o=a.n(r),n=(a("13d5"),a("e6cf"),a("da3d")),l=a("cb33"),c=a("ada4"),d={extends:n["default"],name:"Add",props:{client:{}},data(){return{api:l["a"],form:{client_id:this.client,quotes:[],dls_change:1},pagination:{rowsPerPage:1e3},columns:[{name:"quantity",label:"Cantidad",field:"quantity",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 50px"},{name:"measure",label:"Unidad",field:"measure",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 50px"},{name:"description",label:"Descripcion",align:"left",field:t=>t.name,format:t=>`${t}`,sortable:!1,headerClasses:"text-uppercase",classes:"ellipsis",style:"max-width: 150px",headerStyle:"max-width: 150px"},{name:"price",label:"Precio",field:"price",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 70px"},{name:"amount",label:"Importe",field:"amount",sortable:!1,align:"left",headerClasses:"text-uppercase",headerStyle:"max-width: 70px"},{name:"actions",label:"",field:""}],createdEvent:"created-quote",updatedEvent:"updated-quote"}},mounted(){VueEvent.listen("addProduct",this.addProduct),this.isPostAction&&this.getCurrentChange()},computed:{valid(){return this.form.quotes.length>0},subtotal(){if(this.form.quotes.length>0){let t=this.form.quotes.reduce(((t,e)=>t+parseFloat(e.amount)),0);return t.toFixed(2)}return 0},iva(){return.16*this.subtotal},dls(){return(parseFloat(this.subtotal)+parseFloat(this.iva)).toFixed(2)},total(){return(parseFloat(this.subtotal)+parseFloat(this.iva))*this.form.dls_change}},methods:{async getCurrentChange(){let t=await c["a"].getMoneyCurrentChange();this.form.dls_change=t.data},addProduct(t){this.form.quotes.push(o()({},t))},openUpdateDrawer(t){this.addDrawer("ProductAddToQuote",{title:"añadir producto",item:t},45)},addNewProduct(){this.addDrawer("ProductAddToQuote",{title:"añadir producto"},45)},deleteProduct(t){this.form.quotes=this.form.quotes.filter((e=>e.id!==t.id))}},beforeDestroy(){VueEvent.unlisten("addProduct",this.addProduct)}},u=d,p=(a("0fd4"),a("2877")),m=Object(p["a"])(u,s,i,!1,null,"0ff33bb8",null);e["default"]=m.exports},"9e3a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-list",{attrs:{bordered:""}},t._l(t.menus,(function(e){return a("div",{key:e.id},[a("q-separator"),"item"===e.type?a("div",[t.hasPermission(e.permission)?a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"text-blue-grey-7",attrs:{clickable:"",active:t.isActiveItem(e.id),"active-class":"text-black bg-green-4"},on:{click:function(a){return t.goToUrl(e.path,e.id)}}},[a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[t._v(t._s(e.name))])],1):t._e()],1):a("div",[t.hasPermission(e.permission)?a("q-expansion-item",{staticClass:"text-blue-grey-7",attrs:{"expand-separator":"",icon:e.icon,label:e.name},model:{value:e.expanded,callback:function(a){t.$set(e,"expanded",a)},expression:"menu.expanded"}},[a("q-list",t._l(e.items,(function(e){return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,attrs:{clickable:"",active:t.isActiveItem(e.id),"active-class":"text-black bg-green-4"},on:{click:function(a){return t.goToUrl(e.path,e.id)}}},[a("q-item-section",{staticClass:"q-ml-md",attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1),a("q-item-section",[t._v("\n              "+t._s(e.name)+"\n            ")])],1)})),1)],1):t._e()],1)],1)})),0)},i=[],r=(a("0481"),{name:"Menu",data(){return{labBgColor:{"background-color":"#082B61"},active:1,menus:[{id:1,type:"item",permission:"control",path:"diario",name:"Control diario",icon:"fa fa-th-large"},{id:2,type:"item",permission:"prospect",path:"prospectos",name:"Prospectos",icon:"fa fa-user-friends"},{id:1e3,type:"expansion",permission:"prospect",path:"",expanded:!1,name:"Clientes",icon:"fa fa-users",items:[{id:3,owner:1e3,type:"item",permission:"clients",path:"clientes",name:"Listado",icon:"fa fa-list"},{id:4,owner:1e3,type:"item",permission:"clients",path:"mantenimientos",name:"Mantenimientos",icon:"fa fa-users-cog"}]},{id:1001,type:"expansion",permission:"stock",expanded:!1,path:"",name:"Almacenes",icon:"fa fa-pallet",items:[{id:5,owner:1001,type:"item",permission:"stock",path:"porcientos",name:"Porcientos",icon:"fa fa-percent"},{id:6,owner:1001,type:"item",permission:"stock",path:"medidas",name:"Medidas",icon:"fa fa-weight"},{id:7,owner:1001,type:"item",permission:"stock",path:"proveedores",name:"Proveedores",icon:"fa fa-box-open"},{id:9,owner:1001,type:"item",permission:"stock",path:"productos",name:"Catalogo de productos",icon:"fa fa-th"},{id:10,owner:1001,type:"item",permission:"stock",path:"recepciones",name:"Recepciones",icon:"fa fa-folder-plus"},{id:11,owner:1001,type:"item",permission:"stock",path:"inventario",name:"Inventario",icon:"fa fa-layer-group"},{id:12,owner:1001,type:"item",permission:"stock",path:"ajustes-inventario",name:"Ajustes de inventario",icon:"fa fa-eraser"}]},{id:14,type:"item",permission:"users",path:"usuarios",name:"Usuarios",icon:"fa fa-user-lock"},{id:15,type:"item",permission:"settings",path:"configuraciones",name:"Configuraciones",icon:"fa fa-cog"}]}},computed:{auth(){return this.$store.getters["auth/getUser"]}},mounted(){VueEvent.listen("route-active",this.routeActive),this.expandMenu()},beforeDestroy(){VueEvent.unlisten("route-active",this.routeActive)},methods:{routeActive(t){this.active=t},expandMenu(){let t=this.menus.map((t=>"expansion"===t.type?t.items:t)).flat(),e=t.find((t=>t.path===this.$route.name));e&&(this.active=e.id,e.hasOwnProperty("owner")&&this.menus.filter((t=>"expansion"===t.type)).forEach((t=>{t.expanded=t.id===e.owner})))},hasPermission(t){return this.auth.user.permissions.map((t=>t.value)).includes(t)},isActiveItem(t){return t===this.active},goToUrl(t,e){this.active=e,this.$router.push(t)}}}),o=r,n=(a("c8a5"),a("2877")),l=Object(n["a"])(o,s,i,!1,null,"7662ac4a",null);e["default"]=l.exports},"9fb8":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.save)}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",[a("q-input",{attrs:{autofocus:"",outlined:"",label:"Empresa",dense:""},model:{value:t.form.company,callback:function(e){t.$set(t.form,"company",e)},expression:"form.company"}}),a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Nombre y apellidos *",dense:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Telefonos",dense:"",type:"email"},model:{value:t.form.phones,callback:function(e){t.$set(t.form,"phones",e)},expression:"form.phones"}}),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Email",dense:"",type:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Direccion",dense:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),a("q-input",{staticClass:"q-mt-md",attrs:{outlined:"",label:"Observaciones",type:"textarea",dense:""},model:{value:t.form.note,callback:function(e){t.$set(t.form,"note",e)},expression:"form.note"}})],1)],1)]}}])})],1)},i=[],r=a("da3d"),o=a("c134"),n={extends:r["default"],name:"Add",data(){return{api:o["a"],form:{id:null,company:"",name:"",email:"",phones:"",address:"",type:"lead",note:""},options:[],createdEvent:"created-client",updatedEvent:"updated-client"}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},a339:function(t,e,a){},a4c4:function(t,e,a){"use strict";a("da21")},ada4:function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"settings",t)},show(t){return i["a"].get(s["a"]+"settings/"+t)},store(t){return i["a"].post(s["a"]+"settings",t)},update(t,e){return i["a"].put(s["a"]+"settings/"+t,e)},getFolio(){return i["a"].get(s["a"]+"settings/folio")},getMoneyCurrentChange(){return i["a"].get(s["a"]+"settings/current/change")}}},b9d4:function(t,e,a){var s={"./Client/Gallery.vue":"05df","./Client/Quote.vue":"9c05","./Client/Services.vue":"0511","./EssentialLink.vue":"37c0","./Measure/Create.vue":"463e","./Percent/Create.vue":"53a5","./Product/AddToQuote.vue":"ea1b","./Product/Create.vue":"0c92","./Product/List.vue":"19ff","./Product/Price.vue":"64d5","./Product/Prices.vue":"296c","./Prospect/Consumption.vue":"2034","./Prospect/Consumptions.vue":"5801","./Prospect/Create.vue":"9fb8","./Prospect/CreateService.vue":"fbd0","./Prospect/Quote.vue":"5243","./Prospect/QuoteLive.vue":"609a","./Prospect/Sellers.vue":"796d","./Prospect/Services.vue":"4ce3","./Provider/Create.vue":"1d12","./Provider/List.vue":"3bed","./User/Create.vue":"15c3","./core/Delete.vue":"649c","./core/DrawerManager.vue":"2f8a","./core/Form.vue":"da3d","./core/Sticky.vue":"e9a3","./layouts/DrawerRight.vue":"9366","./layouts/Menu.vue":"9e3a"};function i(t){var e=r(t);return a(e)}function r(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=r,t.exports=i,i.id="b9d4"},c123:function(t,e,a){"use strict";a("db16")},c134:function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"clients",t)},show(t){return i["a"].get(s["a"]+"clients"+t)},store(t){return i["a"].post(s["a"]+"clients",t)},update(t,e){return i["a"].put(s["a"]+"clients/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"clients/"+t)}}},c615:function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"clients-gallery",t)},show(t){return i["a"].get(s["a"]+"clients-gallery"+t)},store(t){return i["a"].defaults.headers.common["Content-Type"]="multipart/form-data; charset=utf-8;",i["a"].post(s["a"]+"clients-gallery",t)},destroy(t,e){return i["a"].delete(s["a"]+"clients-gallery/"+t,e)}}},c8a5:function(t,e,a){"use strict";a("1b3d")},cb33:function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"clients-services",t)},show(t){return i["a"].get(s["a"]+"clients-services/"+t)},store(t){return i["a"].post(s["a"]+"clients-services",t)},update(t,e){return i["a"].put(s["a"]+"clients-services/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"clients-services/"+t)}}},cfee:function(t,e,a){},da21:function(t,e,a){},da3d:function(t,e,a){"use strict";a.r(e);a("e6cf");var s,i,r=a("5cd2"),o={name:"Drawer",props:{portalKey:{},title:{type:String,default:""},item:{}},data(){return{createdEvent:null,updatedEvent:null}},mounted(){if(this.item)for(let t in this.item)this.form[t]=this.item[t]},computed:{isPostAction(){return void 0===this.item}},methods:{numberFormat:r["c"],async save(){try{if(this.isPostAction){let t=await this.api.store(this.form);VueEvent.fire(this.createdEvent,t.data),this.$alert.positive("La operación se completó con exito!"),this.closeDrawer()}else{let t=await this.api.update(this.item.id,this.form);VueEvent.fire(this.updatedEvent,t.data),this.$alert.positive("La operación se completó con éxito!"),this.closeDrawer()}}catch(t){t.error?this.$alert.negative(t.error):t.errors?t.errors.forEach((t=>{this.$alert.negative(t.error)})):this.$alert.negative(t)}}}},n=o,l=(a("a4c4"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,"49b1c0ff",null);e["default"]=c.exports},db16:function(t,e,a){},e85f:function(t,e,a){},ea1b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.handleSubmit,i=e.valid;return[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!i,color:"secondary"},on:{click:function(e){return e.stopPropagation(),s(t.addProduct)}}},[t._v("Añadir")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",[a("q-select",{staticClass:"q-mt-sm",attrs:{outlined:"","use-input":"","input-debounce":"1",options:t.filter,"option-value":"id","option-label":"name","emit-value":"","map-options":"",label:"Producto",dense:""},on:{filter:t.filterFn},model:{value:t.form.product_id,callback:function(e){t.$set(t.form,"product_id",e)},expression:"form.product_id"}}),a("q-separator",{staticClass:"q-my-lg"}),a("ValidationProvider",{attrs:{vid:"name",slim:"",name:"name",rules:"required"}},[a("q-input",{staticClass:"q-mt-lg",attrs:{outlined:"",label:"Nombre corto *",dense:""},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})],1),a("q-input",{staticClass:"q-mt-lg",attrs:{outlined:"",label:"Unidad de medida",dense:""},model:{value:t.measure,callback:function(e){t.measure=e},expression:"measure"}}),a("ValidationProvider",{attrs:{vid:"price",slim:"",name:"price",rules:"required"}},[a("q-select",{staticClass:"q-mt-lg",attrs:{outlined:"",options:t.prices,"option-value":"id","option-label":"sale_price","emit-value":"","map-options":"",label:"Precio",dense:""},scopedSlots:t._u([{key:"option",fn:function(e){return[a("q-item",t._g(t._b({},"q-item",e.itemProps,!1),e.itemEvents),[a("q-item-section",[a("q-item-label",[a("b",[t._v(t._s(e.opt.sale_price))])]),a("q-item-label",{attrs:{caption:""}},[t._v(t._s(e.opt.created_at))])],1)],1)]}}],null,!0),model:{value:t.form.price_id,callback:function(e){t.$set(t.form,"price_id",e)},expression:"form.price_id"}})],1),a("ValidationProvider",{attrs:{vid:"quantity",slim:"",name:"quantity",rules:"required"}},[a("q-input",{staticClass:"q-mt-lg",attrs:{outlined:"",label:"Cantidad",dense:""},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1),a("div",{staticClass:"flex q-mt-lg self-end q-mr-lg"},[a("div",{staticClass:"flex column text-right q-mr-md"},[a("p",[t._v("TOTAL")])]),a("div",[a("h4",[a("b",[t._v("$ "+t._s(t.numberFormat(t.form.amount)))])])])])],1)],1)]}}])})],1)},i=[],r=(a("e01a"),a("e6cf"),a("da3d")),o=a("73c5"),n={extends:r["default"],name:"AddProductToQuote",data(){return{api:o["a"],form:{id:null,product_id:null,description:"",quantity:null,measure_id:null,measure:null,price_id:null,price:null,amount:0},prices:[],filter:[],measure:"",options:[],createdEvent:"created-client",updatedEvent:"updated-client"}},watch:{"form.product_id":function(){if(null!==this.form.product_id){let t=this.filter.find((t=>t.id===this.form.product_id));this.form.id=Math.random().toString(36).substring(7),this.form.description=t.name,this.form.measure_id=t.measure_id,this.form.measure=t.measure.name,this.measure=t.measure.name,this.prices=t.prices}},"form.quantity":function(){if(null!==this.form.quantity){let t=this.prices.find((t=>t.id===this.form.price_id));this.form.price=t.sale_price,this.form.amount=(t.sale_price*this.form.quantity).toFixed(2)}}},mounted(){this.getProducts()},methods:{addProduct(){VueEvent.fire("addProduct",this.form),this.form.id=null,this.form.description="",this.form.measure_id=null,this.form.measure="",this.measure="",this.prices=[],this.form.product_id=null,this.form.amount="",this.form.price_id=null,this.form.quantity=null},filterFn(t,e){e(""!==t?()=>{const e=t.toLowerCase();this.filter=this.options.filter((t=>t.name.toLowerCase().indexOf(e)>-1))}:()=>{this.filter=this.options})},async getProducts(){let t={params:{list:!0}};try{let e=await o["a"].index(t);this.options=e.data}catch(e){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!")}}}},l=n,c=a("2877"),d=Object(c["a"])(l,s,i,!1,null,null,null);e["default"]=d.exports},edcd:function(t,e,a){"use strict";a("19f5")},f7d6:function(t,e,a){"use strict";a("91f2")},fa00:function(t,e,a){"use strict";var s=a("5cd2"),i=a("7424");e["a"]={index(t){return i["a"].get(s["a"]+"prospect-services",t)},show(t){return i["a"].get(s["a"]+"prospect-services/"+t)},store(t){return i["a"].post(s["a"]+"prospect-services",t)},update(t,e){return i["a"].put(s["a"]+"prospect-services/"+t,e)},destroy(t){return i["a"].delete(s["a"]+"prospect-services/"+t)},createClient(t){return i["a"].post(s["a"]+"prospect-services/create/client",t)}}},fbd0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.portalKey?a("portal",{attrs:{to:t.portalKey}},[a("q-toolbar",{staticClass:"text-black shadow-2 bg-white"},[a("q-btn",{attrs:{dense:"",flat:"",round:"",icon:"close"},on:{click:t.closeDrawer}}),a("q-toolbar-title",{staticClass:"text-uppercase text-weight-light"},[t._v(t._s(t.title))]),a("q-btn",{attrs:{disable:!t.valid,color:"secondary"},on:{click:function(e){return e.stopPropagation(),t.save(e)}}},[t._v("Guardar")])],1)],1):t._e(),a("q-card",{staticClass:"q-mt-sm card-h",attrs:{square:""}},[a("q-card-section",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{autofocus:"",outlined:"",label:"Numero de servicio",dense:""},model:{value:t.form.number_service,callback:function(e){t.$set(t.form,"number_service",e)},expression:"form.number_service"}})],1),a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Tarifa",dense:""},model:{value:t.form.rate,callback:function(e){t.$set(t.form,"rate",t._n(e))},expression:"form.rate"}})],1)]),a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"kWh",dense:""},model:{value:t.form.annual_kilowatt,callback:function(e){t.$set(t.form,"annual_kilowatt",t._n(e))},expression:"form.annual_kilowatt"}})],1),a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Facturacion ($)",dense:""},model:{value:t.form.annual_cost,callback:function(e){t.$set(t.form,"annual_cost",t._n(e))},expression:"form.annual_cost"}})],1)]),a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"kWh (REDONDEO)",dense:""},model:{value:t.form.annual_kilowatt_round,callback:function(e){t.$set(t.form,"annual_kilowatt_round",t._n(e))},expression:"form.annual_kilowatt_round"}})],1),a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Facturacion ($) (REDONDEO)",dense:""},model:{value:t.form.annual_cost_round,callback:function(e){t.$set(t.form,"annual_cost_round",t._n(e))},expression:"form.annual_cost_round"}})],1)]),a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Capacidad del panel",dense:""},model:{value:t.form.panel_capacity,callback:function(e){t.$set(t.form,"panel_capacity",t._n(e))},expression:"form.panel_capacity"}})],1),a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Factor de irradiacion",dense:""},model:{value:t.form.irradiation,callback:function(e){t.$set(t.form,"irradiation",t._n(e))},expression:"form.irradiation"}})],1)]),a("div",{staticClass:"row q-mt-xl"},[a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Paneles requeridos",dense:""},model:{value:t.form.required_units,callback:function(e){t.$set(t.form,"required_units",t._n(e))},expression:"form.required_units"}})],1),a("div",{staticClass:"col-6"},[a("q-input",{staticClass:"q-mr-md",attrs:{outlined:"",label:"Inversor",dense:""},model:{value:t.inversor,callback:function(e){t.inversor=t._n(e)},expression:"inversor"}})],1)])]),a("div",{staticClass:"col-4 q-pl-lg"},[a("q-btn",{staticClass:"q-mb-lg",attrs:{color:"primary",icon:"fa fa-bolt"},on:{click:t.openConsumptionDrawer}},[t._v("  Consumos")]),a("q-btn",{staticClass:"q-mb-lg",attrs:{color:"brown",icon:"fa fa-users"},on:{click:t.openSellerDrawer}},[t._v("  Vendedores")]),a("q-btn",{staticClass:"q-mb-lg",attrs:{color:"indigo-5",icon:"fa fa-file-alt"},on:{click:t.openQuoteDrawer}},[t._v("  Cotizar")]),a("p",[t._v("Costo promedio: "),a("br"),a("b",[t._v("$ "+t._s(t.numberFormat(t.form.average_cost)))])]),a("p",[t._v("kWh Anual: "),a("br"),a("b",[t._v(t._s(t.numberFormat(t.totalKwh,0)))])]),a("p",{staticClass:"q-mt-sm"},[t._v("Facturacion Anual: "),a("br"),a("b",[t._v("$ "+t._s(t.numberFormat(t.totalAnnual)))])])],1)])])],1)],1)},i=[],r=(a("13d5"),a("e6cf"),a("da3d")),o=a("fa00"),n=a("ada4"),l=(a("b178"),{extends:r["default"],name:"Add",props:["client"],data(){return{api:o["a"],form:{folio:"",rate:"",client_id:null,number_service:"",average_cost:0,annual_kilowatt:0,annual_cost:0,required_units:0,panel_capacity:0,irradiation:4.5,annual_kilowatt_round:0,annual_cost_round:0,consumptions:[{id:1,period:"A",kwh:1085,consumption:5040},{id:2,period:"B",kwh:828,consumption:3589},{id:3,period:"C",kwh:1423,consumption:6179},{id:4,period:"C",kwh:657,consumption:2856},{id:5,period:"C",kwh:987,consumption:4192},{id:6,period:"C",kwh:1e3,consumption:4409}],sellers:[],dls_change:1,quotes:[]},totalAnnual:0,totalKwh:0,options:[],createdEvent:"created-service",updatedEvent:"updated-service",realLength:1}},watch:{"form.consumptions":function(){this.totalKwh=this.form.consumptions.reduce(((t,e)=>t+e.kwh),0),this.totalAnnual=this.form.consumptions.reduce(((t,e)=>t+e.consumption),0);let t=this.totalKwh/this.realLength,e=this.totalAnnual/this.realLength;this.form.annual_kilowatt=t.toFixed(2),this.form.annual_kilowatt_round=100*Math.ceil(Math.trunc(t)/100),this.form.annual_cost=Math.ceil(e),this.form.annual_cost_round=100*Math.ceil(Math.trunc(e)/100),this.form.average_cost=(this.form.annual_cost/this.form.annual_kilowatt).toFixed(2)},"form.annual_kilowatt":function(){let t=this.form.annual_kilowatt;this.form.annual_kilowatt_round=100*Math.ceil(Math.trunc(t)/100),this.form.average_cost=(this.form.annual_cost/this.form.annual_kilowatt).toFixed(2)},"form.annual_cost":function(){let t=this.form.annual_cost;this.form.annual_cost_round=100*Math.ceil(Math.trunc(t)/100),this.form.average_cost=(this.form.annual_cost/this.form.annual_kilowatt).toFixed(2)},"form.panel_capacity":function(){let t=this.form.panel_capacity*this.form.irradiation/1e3,e=30*t,a=2*e;this.form.required_units=Math.ceil(this.form.annual_kilowatt/a)},"form.irradiation":function(){let t=this.form.panel_capacity*this.form.irradiation/1e3,e=30*t,a=2*e;12===this.form.consumptions.length&&(a=e),this.form.required_units=Math.ceil(this.form.annual_kilowatt/a)}},computed:{inversor(){return this.form.panel_capacity*this.form.required_units},valid(){let t=""!==this.form.number_service,e=""!==this.form.average_cost&&0!==this.form.average_cost,a=""!==this.form.annual_kilowatt&&0!==this.form.annual_kilowatt,s=""!==this.form.panel_capacity&&0!==this.form.panel_capacity,i=""!==this.form.required_units&&0!==this.form.required_units,r=this.form.consumptions.length>0,o=this.form.sellers.length>0,n=this.form.quotes.length>0,l=""!==this.form.rate;return t&&e&&a&&s&&i&&r&&n&&o&&l}},methods:{async getCurrentChange(){let t=await n["a"].getMoneyCurrentChange();this.form.dls_change=parseFloat(t.data)},openConsumptionDrawer(){this.addDrawer("ProspectConsumptions",{title:"listado consumos",items:this.form.consumptions},55)},getConsumptionList(t){this.form.consumptions=t.consumptions,this.realLength=t.realLength},openSellerDrawer(){this.addDrawer("ProspectSellers",{title:"vendedores",items:this.form.sellers},35)},getSellerList(t){this.form.sellers=t},openQuoteDrawer(){let t={required_units:this.form.required_units,panel_capacity:this.form.panel_capacity,inversor:this.form.panel_capacity*this.form.required_units};this.addDrawer("ProspectQuote",{title:"Cotizar",items:this.form.quotes,dlsChangeType:this.form.dls_change,helps:t},85)},getQuoteList(t){this.form.quotes=t.products,this.form.dls_change=t.dls}},mounted(){this.form.client_id=this.client,this.isPostAction&&this.getCurrentChange(),VueEvent.listen("consumptionList",this.getConsumptionList),VueEvent.listen("sellerList",this.getSellerList),VueEvent.listen("quotesList",this.getQuoteList)},beforeDestroy(){VueEvent.unlisten("consumptionList",this.getConsumptionList),VueEvent.unlisten("sellerList",this.getSellerList),VueEvent.unlisten("quotesList",this.getQuoteList)}}),c=l,d=a("2877"),u=Object(d["a"])(c,s,i,!1,null,null,null);e["default"]=u.exports}}]);