(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"279d":function(e,t,a){},c134:function(e,t,a){"use strict";var n=a("5cd2"),s=a("7424");t["a"]={index(e){return s["a"].get(n["a"]+"clients",e)},show(e){return s["a"].get(n["a"]+"clients"+e)},store(e){return s["a"].post(n["a"]+"clients",e)},update(e,t){return s["a"].put(n["a"]+"clients/"+e,t)},destroy(e){return s["a"].delete(n["a"]+"clients/"+e)}}},d072:function(e,t,a){"use strict";a("279d")},e2a2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-sm full-height"},[e.hasEmptyState?a("div",{staticClass:"flex column flex-center empty-state"},[a("div",{staticClass:"text-h4 text-grey q-mb-lg"},[e._v("Aun no has ingresado ningun prospecto!.")]),a("q-btn",{staticClass:"text-black q-mt-lg",attrs:{color:"green"},on:{click:function(t){return e.openAddDrawer()}}},[e._v("Nuevo prospecto")])],1):a("q-card",[a("div",{staticClass:"bg-indigo-3",staticStyle:{height:"10px"}}),a("q-card-section",[a("div",{staticClass:"row q-mb-md flex justify-between"},[a("q-input",{staticClass:"col-4",attrs:{outlined:"",debounce:"300",label:"Empresa, nombre, correo o nÃºmero de servicio",dense:""},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}}),a("div",[a("q-btn",{attrs:{color:"blue",size:"sm"},on:{click:e.printPayPage}},[e._v("Hoja de pago")])],1)],1),a("q-separator"),a("q-table",{attrs:{tile:"",flat:"",data:e.items,columns:e.columns,pagination:e.pagination,loading:e.loading,"binary-state-sort":"","hide-pagination":""},on:{"update:pagination":function(t){e.pagination=t},request:e.getItems},scopedSlots:e._u([{key:"body-cell-actions",fn:function(t){return[a("q-td",{attrs:{props:t}},[a("q-btn",{attrs:{flat:"","fab-mini":"",color:"blue-grey",icon:"fa fa-ellipsis-v"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"120px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.openUpdateDrawer(t.row)}}},[a("q-item-section",[e._v("Actualizar")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.openServicesDrawer(t.row)}}},[a("q-item-section",[e._v("Cotizaciones")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.showModalDelete(t.row)}}},[a("q-item-section",{staticClass:"text-red"},[e._v("Eliminar")])],1)],1)],1)],1)],1)]}}])}),a("q-separator"),e.pagesNumber>1?a("div",{staticClass:"row q-mt-md"},[a("q-pagination",{attrs:{color:"grey-8",max:e.pagesNumber,size:"md"},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1):e._e()],1)],1),e.hasEmptyState?e._e():a("Sticky",{attrs:{simple:""},on:{add:function(t){return e.openAddDrawer()}}}),a("Delete",{attrs:{item:e.itemToDelete,target:e.itemToDelete.name,api:e.api,title:"Eliminar prospecto"},model:{value:e.modalDelete,callback:function(t){e.modalDelete=t},expression:"modalDelete"}})],1)},s=[],i=a("3ab0"),l=a("c134"),r=a("649c"),o={extends:i["a"],name:"Prospect",data(){return{api:l["a"],columns:[{name:"crated_by",label:"Creado por",field:"owner",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"company",label:"Empresa",field:"company",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"name",label:"Nombre",field:"name",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"email",label:"Email",field:"email",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"phones",label:"Telefono",field:"phones",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"address",label:"Direccion",field:"address",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"actions",label:"",field:""}],filters:{name:"",type:"lead"}}},components:{Delete:r["default"]},mounted(){VueEvent.listen("deleted",this.deleteItem),VueEvent.listen("created-client",this.addItem),VueEvent.listen("updated-client",this.updateItem)},beforeDestroy(){VueEvent.unlisten("deleted",this.deleteItem),VueEvent.unlisten("created-client",this.addItem),VueEvent.unlisten("updated-client",this.updateItem)},methods:{openAddDrawer(){this.addDrawer("ProspectCreate",{title:"crear prospecto"},45)},openUpdateDrawer(e){this.addDrawer("ProspectCreate",{title:"actualizar prospecto",item:e},45)},openServicesDrawer(e){this.addDrawer("ProspectServices",{title:"Cotizaciones",item:e},85)},printPayPage(){window.open("page-pay","_blank")}}},c=o,p=(a("d072"),a("2877")),d=Object(p["a"])(c,n,s,!1,null,"58df738d",null);t["default"]=d.exports}}]);