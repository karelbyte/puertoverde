(function(e){function t(t){for(var n,r,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);m&&m(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==i[s]&&(n=!1)}n&&(o.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={2:0},i={2:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{1:"877d3a48",3:"d8a32df1",4:"1eb38f64",5:"5057eee4",6:"58ddd250",7:"ddcf0fdc",8:"4630ead5",9:"03875832",10:"d9ca78a4",11:"c2e49f78",12:"6667ea85",13:"a9d91f4e"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(e){var t=[],a={3:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise((function(t,a){for(var n="css/"+({}[e]||e)+"."+{1:"31d6cfe0",3:"e142a407",4:"67be397e",5:"59b9220e",6:"135e1a2a",7:"9eb65649",8:"89ad548b",9:"6cb9fecc",10:"eab7c7da",11:"8c022b70",12:"31d6cfe0",13:"31d6cfe0"}[e]+".css",i=c.p+n,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var l=o[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===n||u===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===n||u===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=n,delete r[e],m.parentNode.removeChild(m),a(o)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){r[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,a){n=i[e]=[t,a]}));t.push(n[2]=o);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,a[1](d)}i[e]=void 0}};var m=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var m=u;o.push([0,0]),a()})({0:function(e,t,a){e.exports=a("2f39")},"2f39":function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getUser",(function(){return _}));var r={};a.r(r),a.d(r,"setUserMutation",(function(){return C})),a.d(r,"clearUserMutation",(function(){return j}));var i={};a.r(i),a.d(i,"someAction",(function(){return k}));var o={};a.r(o),a.d(o,"getDrawers",(function(){return O}));var s={};a.r(s),a.d(s,"addDrawer",(function(){return P})),a.d(s,"closeDrawer",(function(){return $})),a.d(s,"removeDrawer",(function(){return S}));var c={};a.r(c),a.d(c,"removeDrawer",(function(){return I}));a("e6cf"),a("5319"),a("573e"),a("7d6e"),a("e54f"),a("985d"),a("31cd");var l=a("2b0e"),u=a("df1a"),d=a("42d2"),m=a("b178");l["default"].use(m["d"],{config:{},lang:u["a"],iconSet:d["a"]});var p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},f=[],h=a("ded3"),g=a.n(h),v=a("2f62"),b={name:"App",mounted(){const e=m["a"].getItem("puerto_verde");e&&this.setUserMutation({user:e.user})},methods:g()({},Object(v["b"])("auth",["setUserMutation"]))},w=b,y=a("2877"),q=Object(y["a"])(w,p,f,!1,null,null,null),D=q.exports,x=function(){return{user:{name:"",email:"",permission:[]}}};function _(e){return e.user}function C(e,t){e.user=t}function j(e){e.user={name:"",email:"",permission:[]}}function k(){}var E={namespaced:!0,getters:n,mutations:r,actions:i,state:x},A=function(){return{drawers:[]}};function O(e){return e.drawers}function P(e,t){e.drawers.push(t)}function $(e){e.drawers.pop()}function S(e,t){e.drawers=e.drawers.filter(((e,a)=>a!==t))}function I({commit:e},t){e("removeDrawer",t)}var N={namespaced:!0,getters:o,mutations:s,actions:c,state:A};l["default"].use(v["a"]);var L=function(){const e=new v["a"].Store({modules:{auth:E,drawer:N},strict:!1});return e},M=a("8c4f");a("ddb0"),a("560a");const V=[{path:"/login",name:"Login",component:()=>a.e(4).then(a.bind(null,"013f"))},{path:"/",component:()=>Promise.all([a.e(0),a.e(3)]).then(a.bind(null,"7483")),children:[{path:"",component:()=>a.e(1).then(a.bind(null,"cf86"))},{path:"diario",name:"diario",component:()=>a.e(1).then(a.bind(null,"cf86")),meta:{requiresAuth:!0}},{path:"prospectos",name:"prospectos",component:()=>a.e(6).then(a.bind(null,"e2a2")),meta:{requiresAuth:!0}},{path:"clientes",name:"clientes",component:()=>a.e(5).then(a.bind(null,"72d8")),meta:{requiresAuth:!0}},{path:"proveedores",name:"proveedores",component:()=>a.e(9).then(a.bind(null,"f5c3")),meta:{requiresAuth:!0}},{path:"productos",name:"productos",component:()=>a.e(8).then(a.bind(null,"6eb0")),meta:{requiresAuth:!0}},{path:"mantenimientos",name:"mantenimientos",component:()=>a.e(13).then(a.bind(null,"0de6")),meta:{requiresAuth:!0}},{path:"usuarios",name:"usuarios",component:()=>a.e(11).then(a.bind(null,"051b")),meta:{requiresAuth:!0}},{path:"medidas",name:"medidas",component:()=>Promise.resolve().then(a.bind(null,"560a")),meta:{requiresAuth:!0}},{path:"porcientos",name:"porcientos",component:()=>a.e(7).then(a.bind(null,"f355")),meta:{requiresAuth:!0}},{path:"configuraciones",name:"configuraciones",component:()=>a.e(10).then(a.bind(null,"b41f")),meta:{requiresAuth:!0}}],meta:{requiresAuth:!0}},{path:"*",component:()=>a.e(12).then(a.bind(null,"e51e"))}];var T=V;l["default"].use(M["a"]);var B=function(){const e=new M["a"]({scrollBehavior:()=>({x:0,y:0}),routes:T,mode:"history",base:"/"});return e},U=async function(){const e="function"===typeof L?await L({Vue:l["default"]}):L,t="function"===typeof B?await B({Vue:l["default"],store:e}):B;e.$router=t;const a={router:t,store:e,render:e=>e(D),el:"#q-app"};return{app:a,store:e,router:t}},z=a("7bb1"),F=a("4c93");l["default"].component("ValidationProvider",z["b"]),l["default"].component("ValidationObserver",z["a"]),Object(z["c"])("email",F["b"]),Object(z["c"])("required",F["i"]),Object(z["c"])("min",F["f"]),Object(z["c"])("max",F["d"]),Object(z["c"])("min_value",F["g"]),Object(z["c"])("max_value",F["e"]),Object(z["c"])("numeric",F["h"]),Object(z["c"])("integer",F["c"]),Object(z["c"])("digits",F["a"]),Object(z["c"])("decimal",{validate:(e,{decimals:t="*",separator:a="."}={})=>{if(null===e||void 0===e||""===e)return{valid:!1};if(0===Number(t))return{valid:/^-?\d*$/.test(e)};const n="*"===t?"+":`{1,${t}}`,r=new RegExp(`^[-+]?\\d*(\\${a}\\d${n})?([eE]{1}[-]?\\d+)?$`);return{valid:r.test(e)}}}),l["default"].mixin({methods:{addDrawer(e=null,t=null,a=null,n=null){let r={component:e,props:t,width:10*a,classes:n};return this.$store.commit("drawer/addDrawer",r),this.$store.getters["drawer/getDrawers"].length-1},closeDrawer(){this.$store.commit("drawer/closeDrawer")}}});var G=a("2b88"),R=a.n(G);l["default"].use(R.a);var H=a("a925"),J={failed:"Action failed",success:"Action was successful"},X={"en-us":J};l["default"].use(H["a"]);const K=new H["a"]({locale:"en-us",fallbackLocale:"en-us",messages:X});var Q=({app:e})=>{e.i18n=K},W=(a("bc3a"),a("5cd2"));class Y{constructor(){this.vue=new l["default"]}fire(e,t=null){this.vue.$emit(e,t)}listen(e,t){this.vue.$on(e,t)}unlisten(e,t){this.vue.$off(e,t)}}window.VueEvent=new Y;const Z={positive:e=>{m["b"].create({message:e,progress:!0,type:"positive",color:"positive",textColor:"black",timeout:2500,icon:"fa fa-check-circle",position:"bottom"})},negative:e=>{m["b"].create({message:e,progress:!0,type:"negative",color:"negative",textColor:"white",timeout:2500,icon:"fa fa-minus-circle",position:"bottom"})},info:e=>{m["b"].create({message:e,progress:!0,type:"info",color:"info",timeout:2500,textColor:"black",icon:"fa fa-info-circle",position:"bottom"})},warning:e=>{m["b"].create({message:e,progress:!0,type:"warning",color:"warning",timeout:2500,textColor:"black",icon:"fa fa-exclamation-triangle",position:"bottom"})}};var ee=({Vue:e})=>{e.prototype.$alert=Z};function te(e){return void 0!==e&&e>Math.floor(Date.now()/1e3)}var ae=({router:e,store:t})=>{e.beforeEach(((t,a,n)=>{const r=m["a"].getItem("puerto_verde"),i=!!r&&te(r.expires);t.meta.requiresAuth?i&&null!==r.token?n():(m["a"].remove("puerto_verde"),e.replace({name:"Login"})):"/"!==t.path||i?n():(m["a"].remove("puerto_verde"),e.replace({name:"Login"})),n()}))};const ne="/";async function re(){const{app:e,store:t,router:a}=await U();let n=!1;const r=e=>{n=!0;const t=Object(e)===e?a.resolve(e).route.fullPath:e;window.location.href=t},i=window.location.href.replace(window.location.origin,""),o=[void 0,void 0,void 0,Q,void 0,W["default"],void 0,ee,ae];for(let c=0;!1===n&&c<o.length;c++)if("function"===typeof o[c])try{await o[c]({app:e,router:a,store:t,Vue:l["default"],ssrContext:null,redirect:r,urlPath:i,publicPath:ne})}catch(s){return s&&s.url?void(window.location.href=s.url):void console.error("[Quasar] boot error:",s)}!0!==n&&new l["default"](e)}re()},"31cd":function(e,t,a){},"3ab0":function(e,t,a){"use strict";var n,r,i=a("ded3"),o=a.n(i),s=(a("e6cf"),a("5cd2")),c=a("e9a3"),l={data(){return{modalDelete:!1,itemToDelete:{},items:[],dataLabel:"Cargando datos...",loading:!1,pagination:{sortBy:"",descending:!0,page:1,rowsPerPage:10,rowsNumber:0},totalGetItems:0,filters:{}}},components:{Sticky:c["default"]},watch:{"pagination.page":function(){this.getItems({pagination:this.pagination})},filters:{deep:!0,handler(){this.getItems({pagination:this.pagination})}}},computed:{pagesNumber(){return Math.ceil(this.pagination.rowsNumber/this.pagination.rowsPerPage)},hasEmptyState(){return!this.loading&&(1===this.totalGetItems&&0===this.items.length)}},mounted(){this.getItems({pagination:this.pagination})},methods:{numberFormat:s["c"],deleteItem(e){this.items=this.items.filter((t=>t.id!==e)),this.emptyState=0===this.items.length},addItem(e){this.items.unshift(e),this.showAddDrawer=!this.showAddDrawer,this.emptyState=0===this.items.length},updateItem(e){this.items=this.items.map((t=>{if(t.id===e.id)for(let a in t)void 0!==e[a]&&(t[a]=e[a]);return t}))},showModalDelete(e){this.itemToDelete=e,this.modalDelete=!0},openAddDrawer(){},async getItems(e){let t={params:o()(o()({},e.pagination),this.filters)};try{this.loading=!0;let a=await this.api.index(t);this.items=a.data,this.loading=!1,this.pagination=e.pagination,this.pagination.rowsNumber=a.total,this.totalGetItems++}catch(a){this.dataLabel="La operación no se completó, ocurrio un error!",this.$alert.negative("La operación no se completó, ocurrio un error!"),this.loading=!1}}}},u=l,d=a("2877"),m=Object(d["a"])(u,n,r,!1,null,null,null);t["a"]=m.exports},"54d5":function(e,t,a){"use strict";a("6415")},"560a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{staticClass:"q-pa-sm full-height"},[e.hasEmptyState?a("div",{staticClass:"flex column flex-center empty-state"},[a("div",{staticClass:"text-h4 text-grey q-mb-lg"},[e._v("Aun no has ingresado ninguna medida!.")]),a("q-btn",{staticClass:"text-black q-mt-lg",attrs:{color:"green"},on:{click:function(t){return e.openAddDrawer()}}},[e._v("Nueva medida")])],1):a("q-card",[a("div",{staticClass:"bg-indigo-3",staticStyle:{height:"10px"}}),a("q-card-section",[a("div",{staticClass:"row q-mb-md flex justify-between"},[a("q-input",{staticClass:"col-3",attrs:{outlined:"",debounce:"300",label:"Buscar por nombre",dense:""},model:{value:e.filters.name,callback:function(t){e.$set(e.filters,"name",t)},expression:"filters.name"}}),a("div",[a("q-btn",{attrs:{color:"grey",flat:"",size:"sm",icon:"fa fa-filter"}})],1)],1),a("div",{staticClass:"row q-mb-md flex"},e._l(e.items,(function(t){return a("q-card",{key:t.id,staticClass:"q-mr-md q-mt-lg",attrs:{flat:"",bordered:""}},[a("q-card-section",[a("div",{staticClass:"row items-center no-wrap"},[a("div",{staticClass:"col"},[a("div",{staticClass:"text-h6"},[e._v("\n                  "+e._s(t.name))])]),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{color:"grey-7",round:"",flat:"",icon:"more_vert"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"120px"}},[a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.openUpdateDrawer(t)}}},[a("q-item-section",[e._v("Actualizar")])],1),a("q-separator"),a("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(a){return e.showModalDelete(t)}}},[a("q-item-section",{staticClass:"text-red"},[e._v("Eliminar")])],1)],1)],1)],1)],1)])])],1)})),1),e.pagesNumber>1?a("q-separator"):e._e(),e.pagesNumber>1?a("div",{staticClass:"row q-mt-md"},[a("q-pagination",{attrs:{color:"grey-8",max:e.pagesNumber,size:"md"},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],1):e._e()],1)],1),e.hasEmptyState?e._e():a("Sticky",{attrs:{simple:""},on:{add:function(t){return e.openAddDrawer()}}}),a("Delete",{attrs:{item:e.itemToDelete,target:e.itemToDelete.name,api:e.api,title:"Eliminar medida"},model:{value:e.modalDelete,callback:function(t){e.modalDelete=t},expression:"modalDelete"}})],1)},r=[],i=a("3ab0"),o=a("92d8"),s=a("649c"),c={extends:i["a"],name:"Prospect",data(){return{api:o["a"],columns:[{name:"name",label:"Nombre",field:"name",sortable:!0,align:"left",headerClasses:"text-uppercase"},{name:"actions",label:"",field:""}],filters:{name:"",paging:"on"},pagination:{sortBy:"",descending:!0,page:1,rowsPerPage:50,rowsNumber:0}}},components:{Delete:s["default"]},mounted(){VueEvent.listen("deleted",this.deleteItem),VueEvent.listen("created-measure",this.addItem),VueEvent.listen("updated-measure",this.updateItem)},beforeDestroy(){VueEvent.unlisten("deleted",this.deleteItem),VueEvent.unlisten("created-measure",this.addItem),VueEvent.unlisten("updated-measure",this.updateItem)},methods:{openAddDrawer(){this.addDrawer("MeasureCreate",{title:"crear medida"},45)},openUpdateDrawer(e){this.addDrawer("MeasureCreate",{title:"actualizar medida",item:e},45)}}},l=c,u=(a("54d5"),a("2877")),d=Object(u["a"])(l,n,r,!1,null,"3971ec0e",null);t["default"]=d.exports},"5cd2":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"c",(function(){return r}));const n="/api/";function r(e,t=2){return new Intl.NumberFormat("en-US",{maximumFractionDigits:t,minimumFractionDigits:t}).format(e)}},6415:function(e,t,a){},"649c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-dialog",{attrs:{persistent:""},model:{value:e.modalDelete,callback:function(t){e.modalDelete=t},expression:"modalDelete"}},[a("q-card",{staticStyle:{width:"500px"}},[a("q-card-section",{staticClass:"row items-center bg-red-5"},[a("q-avatar",{attrs:{icon:"fa fa-trash-alt","text-color":"white"}}),a("span",{staticClass:"q-ml-sm"},[e._v(e._s(e.title))])],1),a("q-separator"),a("q-card-section",[a("p",{staticClass:"text-black text-h4"},[e._v(e._s(e.target))]),a("p",[e._v("Esta operación es irrevercible!")])]),a("q-separator"),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{attrs:{flat:"",label:"Cancelar",color:"grey"},on:{click:e.close}}),a("q-btn",{attrs:{label:"Eliminar",color:"red"},on:{click:e.confirm}})],1)],1)],1)},r=[],i=(a("e6cf"),{name:"Delete",props:["value","item","title","target","api","params"],data(){return{modalDelete:!1}},created(){this.modalDelete=this.value},methods:{close(){this.modalDelete=!this.modalDelete,this.$emit("input",this.modalDelete)},async confirm(){try{let e=await this.api.destroy(this.item.id);this.modalDelete=!this.modalDelete,this.$emit("input",this.modalDelete),VueEvent.fire("deleted",this.item.id),this.$alert.positive(e.data)}catch(e){this.modalDelete=!this.modalDelete,this.$emit("input",this.modalDelete),this.$alert.negative("La operación no se completó, ocurrio un error!")}}},watch:{value(){this.modalDelete=this.value}}}),o=i,s=a("2877"),c=Object(s["a"])(o,n,r,!1,null,"2b27b757",null);t["default"]=c.exports},7424:function(e,t,a){"use strict";a("e6cf");var n=a("bc3a"),r=a.n(n),i=a("b178");let o={"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"};const s={headers:o},c=r.a.create(s);c.interceptors.request.use((function(e){const t=i["a"].getItem("puerto_verde");return t&&(e.headers.Accept="application/json",e.headers.Authorization="Bearer "+t.token),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e.data}),(function(e){return e.response?"Unauthenticated."===e.response.data.message?null:Promise.reject(e.response.data):Promise.reject(e)})),t["a"]=c},"92d8":function(e,t,a){"use strict";var n=a("5cd2"),r=a("7424");t["a"]={index(e){return r["a"].get(n["a"]+"measures",e)},show(e){return axios.get(n["a"]+"measures/"+e)},store(e){return r["a"].post(n["a"]+"measures",e)},update(e,t){return r["a"].put(n["a"]+"measures/"+e,t)},destroy(e){return r["a"].delete(n["a"]+"measures/"+e)}}},e9a3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[e.simple?a("q-btn",{attrs:{fab:"",icon:"add",color:"green-10"},on:{click:function(t){return e.addEntity()}}}):a("q-fab",{attrs:{fab:"",icon:"fas fa-ellipsis-h",color:"green",direction:"up"}},[e.add?a("q-fab-action",{attrs:{icon:"add",color:"green-10"},on:{click:function(t){return e.addEntity()}}}):e._e()],1)],1)},r=[],i={name:"Sticky",props:{simple:{type:Boolean,default:!1},add:{type:Boolean,default:!1}},methods:{addEntity(){this.$emit("add")}}},o=i,s=a("2877"),c=Object(s["a"])(o,n,r,!1,null,"3c11424f",null);t["default"]=c.exports}});